(function(){"use strict";var a={666:function(a,e,t){var s=t(5130),o=t(6768);const l={id:"app"};function r(a,e,t,s,r,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(i)])}var n={name:"App",data(){return{activeTab:"standings"}}},i=t(1241);const c=(0,i.A)(n,[["render",r]]);var d=c,m=t(973);const u={class:"login-container"},p={class:"login-box"},h=["src"],k={class:"input-group"},v={class:"input-group"};function g(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",p,[(0,o.Lk)("img",{src:`${r.apiUrl}/uploads/login.png`,alt:"Logo",class:"logo-image"},null,8,h),e[6]||(e[6]=(0,o.Lk)("h2",null,"Iniciar Sesión",-1)),(0,o.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...a)=>n.handleLogin&&n.handleLogin(...a)),["prevent"]))},[(0,o.Lk)("div",k,[e[3]||(e[3]=(0,o.Lk)("label",{for:"username"},"Usuario",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>r.username=a),required:""},null,512),[[s.Jo,r.username]])]),(0,o.Lk)("div",v,[e[4]||(e[4]=(0,o.Lk)("label",{for:"password"},"Contraseña",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>r.password=a),required:""},null,512),[[s.Jo,r.password]])]),e[5]||(e[5]=(0,o.Lk)("button",{type:"submit",class:"login-button"},"Entrar",-1))],32)])])}t(4114);var L=t(4373);const b=L.A.create({baseURL:"https://hockey-manager.onrender.com",withCredentials:!0,headers:{"Content-Type":"application/json"}});L.A.defaults.headers.common["Authorization"]=`Bearer ${localStorage.getItem("token")}`,b.interceptors.request.use((a=>{const e=localStorage.getItem("token");return e&&(a.headers.Authorization=`Bearer ${e}`),a}),(a=>Promise.reject(a)));var y=b,_={name:"LoginPage",data(){return{username:"",password:"",errorMessage:"",apiUrl:"https://hockey-manager.onrender.com"}},methods:{async handleLogin(){try{const a=await y.post("/auth/login",{username:this.username,password:this.password});localStorage.setItem("token",a.data.token),localStorage.setItem("role",a.data.role),this.$router.push("/team-selection")}catch(a){console.error("Error al iniciar sesión:",a),this.errorMessage="Credenciales incorrectas. Inténtalo de nuevo."}}}};const C=(0,i.A)(_,[["render",g],["__scopeId","data-v-46c75dec"]]);var f=C,E=t(4232);const T={class:"team-selection-container"},$={class:"team-selection-box"},F=["src"],X={class:"btn-creation"},w={key:0,class:"box-data"},q={key:0},P={key:1},U={key:2},I=["disabled"],A={class:"input-group"},D=["value"];function J(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)("div",T,[(0,o.Lk)("div",$,[(0,o.Lk)("img",{src:`${r.apiUrl}/uploads/login.png`,alt:"",class:"logo-image"},null,8,F),e[13]||(e[13]=(0,o.Lk)("div",{class:"title-selection"},[(0,o.Lk)("h2",null,"Seleccionar Equipo")],-1)),(0,o.Lk)("div",X,[r.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...a)=>n.toggleCreateTeamForm&&n.toggleCreateTeamForm(...a))},"Crear nuevo Equipo")):(0,o.Q3)("",!0)]),r.showCreateTeamForm?((0,o.uX)(),(0,o.CE)("div",w,[e[10]||(e[10]=(0,o.Lk)("h3",null,"Crear un Nuevo Equipo",-1)),(0,o.Lk)("form",{onSubmit:e[7]||(e[7]=(0,s.D$)(((...a)=>n.createTeam&&n.createTeam(...a)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.newTeam.name=a),type:"text",placeholder:"Nombre del Equipo",onInput:e[2]||(e[2]=(...a)=>n.validateName&&n.validateName(...a)),required:""},null,544),[[s.Jo,r.newTeam.name]]),r.errors.name?((0,o.uX)(),(0,o.CE)("p",q,(0,E.v_)(r.errors.name),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.newTeam.db_name=a),type:"text",placeholder:"Nombre de la BD",onInput:e[4]||(e[4]=(...a)=>n.validateDbName&&n.validateDbName(...a)),required:""},null,544),[[s.Jo,r.newTeam.db_name]]),r.errors.db_name?((0,o.uX)(),(0,o.CE)("p",P,(0,E.v_)(r.errors.db_name),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>r.newTeam.description=a),type:"text",placeholder:"Descripción",onInput:e[6]||(e[6]=(...a)=>n.validateDescription&&n.validateDescription(...a)),required:""},null,544),[[s.Jo,r.newTeam.description]]),r.errors.description?((0,o.uX)(),(0,o.CE)("p",U,(0,E.v_)(r.errors.description),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"submit",disabled:!n.isFormValid},"Guardar",8,I)],32)])):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:e[9]||(e[9]=(0,s.D$)(((...a)=>n.handleTeamSelection&&n.handleTeamSelection(...a)),["prevent"]))},[(0,o.Lk)("div",A,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=a=>r.selectedTeam=a),id:"team",required:""},[e[11]||(e[11]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.myteam_id,value:a.myteam_id},(0,E.v_)(a.name),9,D)))),128))],512),[[s.u1,r.selectedTeam]])]),e[12]||(e[12]=(0,o.Lk)("button",{type:"submit",class:"select-button"},"Acceder",-1))],32)])])}var Q=t(5068),S={data(){return{teams:[],isAdmin:!1,showCreateTeamForm:!1,newTeam:{name:"",db_name:"",description:""},errors:{name:null,db_name:null,description:null},selectedTeam:"",apiUrl:"https://hockey-manager.onrender.com"}},computed:{isFormValid(){return!this.errors.name&&!this.errors.db_name&&!this.errors.description&&this.newTeam.name&&this.newTeam.db_name&&this.newTeam.description}},async created(){const a=localStorage.getItem("token");if(a){const e=(0,Q.s)(a);this.isAdmin="admin"===e.role}try{const e=await y.get("/myteams",{headers:{Authorization:`Bearer ${a}`}});this.teams=e.data}catch(e){console.error("Error al obtener los equipos:",e),this.$router.push("/")}},methods:{async handleTeamSelection(){this.selectedTeam&&y.post("/myteams/select",{myteam_id:this.selectedTeam}).then((a=>{const e=a.data.token;localStorage.setItem("token",e),console.log("Nuevo token recibido:",e),this.$router.push("/dashboard/standings")})).catch((a=>{console.error("Error seleccionando equipo:",a),alert("No se pudo seleccionar el equipo. Intenta de nuevo.")}))},toggleCreateTeamForm(){this.showCreateTeamForm=!this.showCreateTeamForm},validateName(){this.newTeam.name.length<3?this.errors.name="El nombre del equipo debe tener al menos 3 caracteres.":this.newTeam.name.length>50?this.errors.name="El nombre del equipo no puede exceder los 50 caracteres.":this.errors.name=null},validateDbName(){const a=/^[a-zA-Z0-9_]+$/;this.newTeam.db_name?a.test(this.newTeam.db_name)?this.errors.db_name=null:this.errors.db_name="El nombre de la base de datos solo puede contener letras, números y guiones bajos.":this.errors.db_name="El nombre de la base de datos es obligatorio."},validateDescription(){this.newTeam.description.length>200?this.errors.description="La descripción no puede exceder los 200 caracteres.":this.newTeam.description?this.errors.description=null:this.errors.description="La descripción es obligatoria."},async createTeam(){if(this.isFormValid)try{const a=localStorage.getItem("token"),e=await y.post("/myteams/create",this.newTeam,{headers:{Authorization:`Bearer ${a}`}});this.teams.push(e.data),this.newTeam.name="",this.newTeam.db_name="",this.newTeam.description="",this.errors={name:null,db_name:null,description:null},this.showCreateTeamForm=!1,alert("Equipo creado exitosamente.")}catch(a){console.error("Error al crear el equipo:",a),alert("No se pudo crear el equipo. Intenta de nuevo.")}},async selectTeam(a){try{const e=localStorage.getItem("token");await y.post("/myteams/select",{myteam_id:a},{headers:{Authorization:`Bearer ${e}`}}),this.$router.push("/dashboard/standings")}catch(e){console.error("Error al seleccionar el equipo:",e),alert("No se pudo seleccionar el equipo. Intenta de nuevo.")}}}};const x=(0,i.A)(S,[["render",J],["__scopeId","data-v-3f84a4f0"]]);var G=x;const M={class:"dashboard"},N={class:"navbar"};function V(a,e,t,s,l,r){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("nav",N,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:(0,E.C4)([{active:"standings"===l.activeTab},"nav-item"])},e[5]||(e[5]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)]),2),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:(0,E.C4)([{active:"results"===l.activeTab},"nav-item"])},e[6]||(e[6]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)]),2),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:(0,E.C4)([{active:"roster"===l.activeTab},"nav-item"])},e[7]||(e[7]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)]),2),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:(0,E.C4)([{active:"teams"===l.activeTab},"nav-item"])},e[8]||(e[8]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)]),2),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:(0,E.C4)([{active:"stats"===l.activeTab},"nav-item"])},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]),2)]),(0,o.bF)(n)])}var j={name:"Dashboard",data(){return{activeTab:"standings"}},mounted(){"/dashboard"===this.$route.path&&this.$router.push("/dashboard/standings")},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)}}};const K=(0,i.A)(j,[["render",V]]);var z=K;const R={class:"standings"};function O(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",R,[e[1]||(e[1]=(0,o.Lk)("h2",null,"Clasificación",-1)),(0,o.Lk)("table",null,[e[0]||(e[0]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Equipo"),(0,o.Lk)("th",null,"Pts"),(0,o.Lk)("th",null,"PJ"),(0,o.Lk)("th",null,"PG"),(0,o.Lk)("th",null,"PE"),(0,o.Lk)("th",null,"PP"),(0,o.Lk)("th",null,"GF"),(0,o.Lk)("th",null,"GC"),(0,o.Lk)("th",null,"Dif.Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.standings,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.team_id,class:(0,E.C4)({favorite:a.is_favorite})},[(0,o.Lk)("td",null,(0,E.v_)(a.name),1),(0,o.Lk)("td",null,(0,E.v_)(a.points),1),(0,o.Lk)("td",null,(0,E.v_)(a.played),1),(0,o.Lk)("td",null,(0,E.v_)(a.won),1),(0,o.Lk)("td",null,(0,E.v_)(a.draw),1),(0,o.Lk)("td",null,(0,E.v_)(a.lost),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals_for),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals_against),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals_for-a.goals_against),1)],2)))),128))])])])}var W={name:"Standings",data(){return{standings:[]}},async created(){try{const a=await y.get("/matches/standings");this.standings=a.data}catch(a){console.error("Error al cargar la clasificación:",a)}}};const B=(0,i.A)(W,[["render",O],["__scopeId","data-v-dd51309c"]]);var Y=B;const H={class:"results-page"},Z={class:"header"},aa={class:"match-info"},ea={class:"match-date"},ta={class:"team-container"},sa={class:"team"},oa=["src"],la=["src"],ra={class:"team-name"},na={class:"result"},ia={class:"team"},ca=["src"],da=["src"],ma={class:"team-name"},ua={class:"match-actions"},pa=["onClick"],ha=["onClick"],ka=["onClick"];function va(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",Z,[e[1]||(e[1]=(0,o.Lk)("h2",null,"Resultados",-1)),l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...a)=>r.createMatch&&r.createMatch(...a)),class:"create-match-button"},"Crear Partido")):(0,o.Q3)("",!0)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.groupedMatches,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"jornada-section"},[(0,o.Lk)("h3",null,"Jornada "+(0,E.v_)(t+1),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.match_id,class:"match-row"},[(0,o.Lk)("div",aa,[(0,o.Lk)("p",ea,(0,E.v_)(r.formatDateTime(a.date)),1),(0,o.Lk)("div",ta,[(0,o.Lk)("div",sa,[a.local_team.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.local_team.logo_path}`,alt:"Escudo Local",class:"team-logo"},null,8,oa)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Local",class:"team-logo"},null,8,la)),(0,o.Lk)("span",ra,(0,E.v_)(a.local_team.name),1)]),(0,o.Lk)("div",na,(0,E.v_)(null!==a.score_team_1&&null!==a.score_team_2?`${a.score_team_1} - ${a.score_team_2}`:"Por jugar"),1),(0,o.Lk)("div",ia,[a.visitor_team.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.visitor_team.logo_path}`,alt:"Escudo Visitante",class:"team-logo"},null,8,ca)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Visitante",class:"team-logo"},null,8,da)),(0,o.Lk)("span",ma,(0,E.v_)(a.visitor_team.name),1)])])]),(0,o.Lk)("div",ua,[null!==a.score_team_1&&null!==a.score_team_2?((0,o.uX)(),(0,o.CE)("span",{key:0,onClick:e=>r.viewDetails(a.match_id),class:"icon-button"},e[2]||(e[2]=[(0,o.Lk)("span",{class:"material-icons"},"visibility",-1)]),8,pa)):(0,o.Q3)("",!0),l.isAdmin?((0,o.uX)(),(0,o.CE)("span",{key:1,onClick:e=>r.editMatch(a.match_id),class:"icon-button"},e[3]||(e[3]=[(0,o.Lk)("span",{class:"material-icons"},"edit",-1)]),8,ha)):(0,o.Q3)("",!0),l.isAdmin?((0,o.uX)(),(0,o.CE)("span",{key:2,onClick:e=>r.confirmDelete(a.match_id),class:"icon-button"},e[4]||(e[4]=[(0,o.Lk)("span",{class:"material-icons"},"delete",-1)]),8,ka)):(0,o.Q3)("",!0)])])))),128))])))),128))])}t(8992),t(4520),t(2577),t(1454),t(8872);var ga={name:"ResultsPage",data(){return{matches:[],groupedMatches:[],isAdmin:!1,apiUrl:"https://hockey-manager.onrender.com"}},async created(){try{const a=await y.get("/matches"),e=await y.get("/teams"),t=e.data,s=localStorage.getItem("token");if(s){const a=(0,Q.s)(s);this.isAdmin="admin"===a.role}this.matches=a.data.map((a=>(a.local_team=t.find((e=>e.team_id===a.team_1_id)),a.visitor_team=t.find((e=>e.team_id===a.team_2_id)),a))),this.groupMatchesByJornada()}catch(a){console.error("Error al cargar los resultados:",a),alert("No se pudo cargar la lista de resultados.")}},methods:{createMatch(){this.$router.push("/matches/create")},groupMatchesByJornada(){const a=this.matches.reduce(((a,e)=>{const t=e.round_number||1;return a[t-1]||(a[t-1]=[]),a[t-1].push(e),a}),[]);this.groupedMatches=a},formatDateTime(a){const e=new Date(a);return e.toLocaleString([],{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},viewDetails(a){this.$router.push(`/matches/details/${a}`)},editMatch(a){this.$router.push(`/matches/edit/${a}`)},confirmDelete(a){confirm("¿Estás seguro de que deseas eliminar este partido? Esta acción no se puede deshacer.")&&this.deleteMatch(a)},async deleteMatch(a){try{await y.delete(`/matches/${a}`),alert("Partido eliminado con éxito"),this.matches=this.matches.filter((e=>e.match_id!==a)),this.groupMatchesByJornada()}catch(e){console.error("Error al eliminar el partido:",e),alert("No se pudo eliminar el partido")}}}};const La=(0,i.A)(ga,[["render",va],["__scopeId","data-v-4a9f826e"]]);var ba=La;const ya={class:"roster"},_a={class:"header"},Ca={key:0},fa={class:"player-cards"},Ea=["onClick"],Ta=["src"],$a={class:"player-name"},Fa={class:"dorsal"};function Xa(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",ya,[(0,o.Lk)("div",_a,[e[1]||(e[1]=(0,o.Lk)("h2",null,"Plantilla",-1)),l.isAdmin?((0,o.uX)(),(0,o.CE)("div",Ca,[(0,o.Lk)("button",{onClick:e[0]||(e[0]=(...a)=>r.createPlayer&&r.createPlayer(...a))},"Crear Jugador")])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",fa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.players,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-card",onClick:e=>r.viewPlayerDetails(a.player_id)},[(0,o.Lk)("img",{src:r.getPlayerImage(a.photo_path),alt:"Foto del jugador"},null,8,Ta),(0,o.Lk)("h3",$a,(0,E.v_)(a.name),1),(0,o.Lk)("p",Fa,"#"+(0,E.v_)(a.number),1)],8,Ea)))),128))])])}var wa={name:"Roster",data(){return{players:[],isAdmin:!1}},async created(){await this.fetchPlayers();const a=localStorage.getItem("token");if(a){const e=(0,Q.s)(a);this.isAdmin="admin"===e.role}},methods:{async fetchPlayers(){try{const a=await y.get("/players");this.players=a.data}catch(a){console.error("Error al obtener los jugadores:",a)}},createPlayer(){this.$router.push("/players/create")},getPlayerImage(a){return a?`https://hockey-manager.onrender.com${a}`:"https://hockey-manager.onrender.com/uploads/players/default.png"},viewPlayerDetails(a){this.$router.push(`/players/${a}`)}}};const qa=(0,i.A)(wa,[["render",Xa],["__scopeId","data-v-26d2df89"]]);var Pa=qa;const Ua={class:"teams-list"},Ia={class:"header"},Aa={class:"teams-container"},Da=["onClick"],Ja=["src"],Qa=["src"];function Sa(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",Ua,[(0,o.Lk)("div",Ia,[e[1]||(e[1]=(0,o.Lk)("h2",null,"Equipos",-1)),(0,o.Lk)("button",{onClick:e[0]||(e[0]=(...a)=>r.createTeam&&r.createTeam(...a)),class:"create-team-button"},"Crear Equipo")]),(0,o.Lk)("div",Aa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.teams,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.team_id,class:"team-card",onClick:e=>r.viewTeamDetails(a.team_id)},[a.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.logo_path}`,alt:"Escudo del equipo",class:"team-logo"},null,8,Ja)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo del equipo",class:"team-logo"},null,8,Qa)),(0,o.Lk)("h3",null,(0,E.v_)(a.name),1)],8,Da)))),128))])])}var xa={data(){return{teams:[],apiUrl:"https://hockey-manager.onrender.com"}},async created(){try{const a=await y.get("/teams");this.teams=a.data}catch(a){console.error("Error al cargar la lista de equipos:",a),alert("No se pudo cargar la lista de equipos.")}},methods:{viewTeamDetails(a){this.$router.push(`/teams/${a}`)},createTeam(){this.$router.push("/teams/create")}}};const Ga=(0,i.A)(xa,[["render",Sa],["__scopeId","data-v-bf0dca86"]]);var Ma=Ga;const Na={class:"statistics-page"},Va={class:"top-scorers-table"},ja=["src"],Ka=["src"];function za(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",Na,[e[1]||(e[1]=(0,o.Lk)("h2",null,"Estadísticas",-1)),(0,o.Lk)("table",Va,[e[0]||(e[0]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th"),(0,o.Lk)("th",null,"Nombre"),(0,o.Lk)("th",null,"Dorsal"),(0,o.Lk)("th",null,"Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.players,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.player_id},[(0,o.Lk)("td",null,[a.photo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.photo_path}`,alt:"Foto del jugador",class:"player-photo"},null,8,ja)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/players/default.png`,alt:"Foto del jugador",class:"player-photo"},null,8,Ka))]),(0,o.Lk)("td",null,(0,E.v_)(a.name),1),(0,o.Lk)("td",null,(0,E.v_)(a.number),1),(0,o.Lk)("td",null,(0,E.v_)(a.total_goals),1)])))),128))])])])}var Ra={name:"Statistics",data(){return{players:[],apiUrl:"https://hockey-manager.onrender.com"}},async created(){try{const a=await y.get("/players/top-scorers");this.players=a.data}catch(a){console.error("Error al cargar las estadísticas de goleadores:",a),alert("No se pudo cargar la tabla de goleadores.")}}};const Oa=(0,i.A)(Ra,[["render",za],["__scopeId","data-v-633549a2"]]);var Wa=Oa;const Ba={class:"dashboard"},Ya={class:"navbar"},Ha={class:"player-details"},Za={class:"header"},ae={key:0,class:"player-info box-data"},ee=["src"],te={class:"player-data"},se={class:"player-name"},oe={key:1,class:"player-goals"},le={class:"goals-table"},re={key:2,class:"player-goals"};function ne(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Ba,[(0,o.Lk)("nav",Ya,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:"nav-item"},e[6]||(e[6]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:"nav-item"},e[7]||(e[7]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:"active nav-item"},e[8]||(e[8]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:"nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:"nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",Ha,[(0,o.Lk)("div",Za,[e[11]||(e[11]=(0,o.Lk)("h2",null,"Detalles del Jugador",-1)),l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[5]||(e[5]=(...a)=>r.editPlayer&&r.editPlayer(...a))},"Editar Jugador")):(0,o.Q3)("",!0)]),l.player?((0,o.uX)(),(0,o.CE)("div",ae,[(0,o.Lk)("img",{src:r.getPlayerImage(l.player.photo_path),alt:"Foto del jugador",class:"player-photo"},null,8,ee),(0,o.Lk)("div",te,[(0,o.Lk)("p",se,(0,E.v_)(l.player.name),1),(0,o.Lk)("p",null,[e[12]||(e[12]=(0,o.Lk)("strong",null,"Número:",-1)),(0,o.eW)(" "+(0,E.v_)(l.player.number),1)]),(0,o.Lk)("p",null,[e[13]||(e[13]=(0,o.Lk)("strong",null,"Posición:",-1)),(0,o.eW)(" "+(0,E.v_)(l.player.position),1)]),(0,o.Lk)("p",null,[e[14]||(e[14]=(0,o.Lk)("strong",null,"Fecha de Nacimiento:",-1)),(0,o.eW)(" "+(0,E.v_)(l.player.birthdate),1)])])])):(0,o.Q3)("",!0),l.goals.length?((0,o.uX)(),(0,o.CE)("div",oe,[e[16]||(e[16]=(0,o.Lk)("h3",null,"Goles por Jornada",-1)),(0,o.Lk)("table",le,[e[15]||(e[15]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Jornada"),(0,o.Lk)("th",null,"Fecha"),(0,o.Lk)("th",null,"Partido"),(0,o.Lk)("th",null,"Resultado"),(0,o.Lk)("th",null,"Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.goals,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.jornada},[(0,o.Lk)("td",null,(0,E.v_)(a.round_number),1),(0,o.Lk)("td",null,(0,E.v_)(r.formatDateTime(a.date)),1),(0,o.Lk)("td",null,(0,E.v_)(a.local_team)+" vs "+(0,E.v_)(a.visitor_team),1),(0,o.Lk)("td",null,(0,E.v_)(a.score_team_1)+" - "+(0,E.v_)(a.score_team_2),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals),1)])))),128))])])])):((0,o.uX)(),(0,o.CE)("div",re,e[17]||(e[17]=[(0,o.Lk)("h3",null,"No hay goles registrados",-1)])))])],64)}var ie={name:"PlayerDetails",data(){return{player:null,isAdmin:!1,apiUrl:"https://hockey-manager.onrender.com",goals:[]}},async created(){const a=this.$route.params.player_id,e=localStorage.getItem("token");if(e){const a=(0,Q.s)(e);this.isAdmin="admin"===a.role}try{const e=await y.get(`/players/${a}`);this.player=e.data;const t=await y.get(`/players/${a}/goals`);this.goals=t.data}catch(t){console.error("Error al cargar los datos del jugador:",t),alert("No se pudo cargar la información del jugador.")}},methods:{formatDateTime(a){const e=new Date(a);return e.toLocaleString()},navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},getPlayerImage(a){return a?`https://hockey-manager.onrender.com${a}`:"https://hockey-manager.onrender.com/uploads/players/default.png"},editPlayer(){this.$router.push(`/players/edit/${this.player.player_id}`)}}};const ce=(0,i.A)(ie,[["render",ne],["__scopeId","data-v-f7c3494a"]]);var de=ce;const me={class:"dashboard"},ue={class:"navbar"},pe={class:"create-player"};function he(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",me,[(0,o.Lk)("nav",ue,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"active nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[15]||(e[15]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",pe,[e[22]||(e[22]=(0,o.Lk)("h2",null,"Crear Nuevo Jugador",-1)),(0,o.Lk)("form",{onSubmit:e[10]||(e[10]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},[(0,o.Lk)("div",null,[e[16]||(e[16]=(0,o.Lk)("label",{for:"name"},"Nombre",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[5]||(e[5]=a=>r.player.name=a),required:""},null,512),[[s.Jo,r.player.name]])]),(0,o.Lk)("div",null,[e[17]||(e[17]=(0,o.Lk)("label",{for:"number"},"Número",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"number","onUpdate:modelValue":e[6]||(e[6]=a=>r.player.number=a),required:"",min:"1"},null,512),[[s.Jo,r.player.number]])]),(0,o.Lk)("div",null,[e[18]||(e[18]=(0,o.Lk)("label",{for:"position"},"Posición",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"position","onUpdate:modelValue":e[7]||(e[7]=a=>r.player.position=a),required:""},null,512),[[s.Jo,r.player.position]])]),(0,o.Lk)("div",null,[e[19]||(e[19]=(0,o.Lk)("label",{for:"birthdate"},"Fecha de Nacimiento",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"birthdate","onUpdate:modelValue":e[8]||(e[8]=a=>r.player.birthdate=a),required:""},null,512),[[s.Jo,r.player.birthdate]])]),(0,o.Lk)("div",null,[e[20]||(e[20]=(0,o.Lk)("label",{for:"photo"},"Foto",-1)),(0,o.Lk)("input",{type:"file",id:"photo",onChange:e[9]||(e[9]=(...a)=>n.handleFileUpload&&n.handleFileUpload(...a)),accept:"image/*"},null,32)]),e[21]||(e[21]=(0,o.Lk)("button",{type:"submit"},"Guardar",-1))],32)])],64)}var ke={name:"CreatePlayer",data(){return{player:{name:"",number:"",position:"",birthdate:""},photoFile:null,myTeam_id:""}},async created(){await this.fetchMyTeamId()},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},async fetchMyTeamId(){try{const a=await y.get("/teams/favorite");this.myTeam_id=a.data.team_id}catch(a){console.error("Error al obtener los jugadores:",a)}},handleFileUpload(a){this.photoFile=a.target.files[0]},async submitForm(){const a=new FormData;a.append("name",this.player.name),a.append("number",this.player.number),a.append("position",this.player.position),a.append("birthdate",this.player.birthdate),a.append("team_id",this.myTeam_id),this.photoFile&&a.append("photo",this.photoFile);try{await y.post("/players",a,{headers:{"Content-Type":"multipart/form-data"}});alert("Jugador creado con éxito"),this.$router.push("/dashboard/roster")}catch(e){console.error("Error al crear el jugador:",e),alert("Error al crear el jugador")}}}};const ve=(0,i.A)(ke,[["render",he],["__scopeId","data-v-3c9da3b3"]]);var ge=ve;const Le={class:"dashboard"},be={class:"navbar"},ye={class:"edit-player"},_e={key:0,class:"current-logo"},Ce=["src"];function fe(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Le,[(0,o.Lk)("nav",be,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"active nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[15]||(e[15]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",ye,[e[23]||(e[23]=(0,o.Lk)("h2",null,"Editar Jugador",-1)),(0,o.Lk)("form",{onSubmit:e[10]||(e[10]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},[(0,o.Lk)("div",null,[e[16]||(e[16]=(0,o.Lk)("label",{for:"name"},"Nombre",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[5]||(e[5]=a=>r.player.name=a),required:""},null,512),[[s.Jo,r.player.name]])]),(0,o.Lk)("div",null,[e[17]||(e[17]=(0,o.Lk)("label",{for:"number"},"Número",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"number","onUpdate:modelValue":e[6]||(e[6]=a=>r.player.number=a),required:"",min:"1"},null,512),[[s.Jo,r.player.number]])]),(0,o.Lk)("div",null,[e[18]||(e[18]=(0,o.Lk)("label",{for:"position"},"Posición",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"position","onUpdate:modelValue":e[7]||(e[7]=a=>r.player.position=a),required:""},null,512),[[s.Jo,r.player.position]])]),(0,o.Lk)("div",null,[e[19]||(e[19]=(0,o.Lk)("label",{for:"birthdate"},"Fecha de Nacimiento",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"birthdate","onUpdate:modelValue":e[8]||(e[8]=a=>r.player.birthdate=a),required:""},null,512),[[s.Jo,r.player.birthdate]])]),(0,o.Lk)("div",null,[e[21]||(e[21]=(0,o.Lk)("label",{for:"photo"},"Nueva Foto (opcional)",-1)),(0,o.Lk)("input",{type:"file",id:"photo",onChange:e[9]||(e[9]=(...a)=>n.handleFileUpload&&n.handleFileUpload(...a)),accept:"image/*"},null,32),r.player.photo_path?((0,o.uX)(),(0,o.CE)("div",_e,[e[20]||(e[20]=(0,o.Lk)("p",null,"Foto actual:",-1)),(0,o.Lk)("img",{src:`${r.apiUrl}${r.player.photo_path}`,alt:"Foto actual"},null,8,Ce)])):(0,o.Q3)("",!0)]),e[22]||(e[22]=(0,o.Lk)("button",{type:"submit"},"Guardar",-1))],32)])],64)}var Ee={name:"EditPlayer",data(){return{player:{name:"",number:"",position:"",birthdate:""},photoFile:null,myTeam_id:"",apiUrl:"https://hockey-manager.onrender.com"}},async created(){await this.fetchMyTeamId();const a=this.$route.params.player_id;try{const e=await y.get(`/players/${a}`);this.player=e.data}catch(e){console.error("Error al cargar los datos del jugador:",e),alert("No se pudo cargar la información del jugador.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},async fetchMyTeamId(){try{const a=await y.get("/teams/favorite");this.myTeam_id=a.data.team_id}catch(a){console.error("Error al obtener los jugadores:",a)}},handleFileUpload(a){this.photoFile=a.target.files[0]},async submitForm(){const a=new FormData;a.append("name",this.player.name),a.append("number",this.player.number),a.append("position",this.player.position),a.append("birthdate",this.player.birthdate),a.append("team_id",this.myTeam_id),this.photoFile&&a.append("photo",this.photoFile);try{await y.put(`/players/${this.$route.params.player_id}`,a,{headers:{"Content-Type":"multipart/form-data"}});alert("Jugador actualizado con éxito"),this.$router.push("/dashboard/roster")}catch(e){console.error("Error al actualizar el jugador:",e),alert("Error al actualizar el jugador.")}}}};const Te=(0,i.A)(Ee,[["render",fe],["__scopeId","data-v-dd9ba9c8"]]);var $e=Te;const Fe={class:"dashboard"},Xe={class:"navbar"},we={class:"match-details"},qe={class:"header"},Pe={class:"tab-container"},Ue={key:0,class:"tab-content"},Ie={key:0},Ae={class:"team-details box-data"},De={class:"team"},Je=["src"],Qe=["src"],Se={class:"team-name"},xe={class:"result"},Ge={class:"team"},Me=["src"],Ne=["src"],Ve={class:"team-name"},je={class:"match-data box-data"},Ke={key:1,class:"map-link box-data"},ze=["href"],Re={key:1,class:"tab-content goals-section"},Oe={key:0,class:"goals-section"},We={class:"goal-table"},Be=["src"],Ye=["src"],He={key:2,class:"tab-content"},Ze={class:"convocados-list box-data"},at={class:"players-list box-data"};function et(a,e,t,s,l,r){const n=(0,o.g2)("MapComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Fe,[(0,o.Lk)("nav",Xe,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:"nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:"active nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:"nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",we,[(0,o.Lk)("div",qe,[e[14]||(e[14]=(0,o.Lk)("h2",null,"Detalles del Partido",-1)),(0,o.Q3)("",!0)]),(0,o.Lk)("div",Pe,[(0,o.Lk)("div",{class:(0,E.C4)(["tab",{active:"datos"===l.activeTab}]),onClick:e[6]||(e[6]=a=>l.activeTab="datos")},"Datos",2),l.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,E.C4)(["tab",{active:"goles"===l.activeTab}]),onClick:e[7]||(e[7]=a=>l.activeTab="goles")},"Goles",2)):(0,o.Q3)("",!0),l.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,E.C4)(["tab",{active:"convocatoria"===l.activeTab}]),onClick:e[8]||(e[8]=a=>l.activeTab="convocatoria")},"Convocatoria",2)):(0,o.Q3)("",!0)]),"datos"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",Ue,[l.match&&l.localTeam&&l.visitorTeam?((0,o.uX)(),(0,o.CE)("div",Ie,[(0,o.Lk)("div",Ae,[(0,o.Lk)("div",De,[l.localTeam.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${l.localTeam.logo_path}`,alt:"Escudo Local",class:"team-logo"},null,8,Je)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Local",class:"team-logo"},null,8,Qe)),(0,o.Lk)("span",Se,(0,E.v_)(l.localTeam.name),1)]),(0,o.Lk)("span",xe,(0,E.v_)(l.match.score_team_1)+" - "+(0,E.v_)(l.match.score_team_2),1),(0,o.Lk)("div",Ge,[l.visitorTeam.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${l.visitorTeam.logo_path}`,alt:"Escudo Visitante",class:"team-logo"},null,8,Me)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Visitante",class:"team-logo"},null,8,Ne)),(0,o.Lk)("span",Ve,(0,E.v_)(l.visitorTeam.name),1)])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",je,[(0,o.Lk)("p",null,[e[15]||(e[15]=(0,o.Lk)("strong",null,"Fecha:",-1)),(0,o.eW)(" "+(0,E.v_)(r.formatDateTime(l.match.date)),1)]),(0,o.Lk)("p",null,[e[16]||(e[16]=(0,o.Lk)("strong",null,"Resumen:",-1)),(0,o.eW)(" "+(0,E.v_)(l.match.details||"Sin información adicional"),1)])]),r.finalAddress?((0,o.uX)(),(0,o.CE)("div",Ke,[e[17]||(e[17]=(0,o.Lk)("h3",null,"Ubicación",-1)),r.finalAddress?((0,o.uX)(),(0,o.Wv)(n,{key:0,address:r.finalAddress},null,8,["address"])):(0,o.Q3)("",!0),(0,o.Lk)("a",{href:r.getGoogleMapsLink(r.finalAddress),target:"_blank"},"Ver en Google Maps",8,ze)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),"goles"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",Re,[l.matchGoals.length?((0,o.uX)(),(0,o.CE)("div",Oe,[e[19]||(e[19]=(0,o.Lk)("h3",null,"Goles del Partido",-1)),(0,o.Lk)("table",We,[e[18]||(e[18]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th"),(0,o.Lk)("th",null,"Jugador"),(0,o.Lk)("th",null,"Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.matchGoals,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.event_id},[(0,o.Lk)("td",null,[a.player_photo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.player_photo}`,alt:"Foto del jugador",class:"player-photo"},null,8,Be)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/players/default.png`,alt:"Foto del jugador",class:"player-photo"},null,8,Ye))]),(0,o.Lk)("td",null,(0,E.v_)(a.player_name),1),(0,o.Lk)("td",null,(0,E.v_)(a.event_number),1)])))),128))])])])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),"convocatoria"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",He,[e[20]||(e[20]=(0,o.Lk)("h4",null,"Jugadores Convocados",-1)),(0,o.Lk)("div",Ze,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.convocados,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1)])))),128))]),e[21]||(e[21]=(0,o.Lk)("h4",null,"Jugadores no convocados",-1)),(0,o.Lk)("div",at,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.availablePlayers,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1)])))),128))])])):(0,o.Q3)("",!0)])],64)}t(7550);const tt={class:"map-container"};function st(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",tt,e[0]||(e[0]=[(0,o.Lk)("div",{id:"map",class:"map"},null,-1)]))}var ot={name:"MapComponent",props:{address:{type:String,required:!0}},data(){return{map:null,geocoder:null}},async mounted(){await this.loadGoogleMapsScript(),this.initMap()},methods:{loadGoogleMapsScript(){return new Promise((a=>{if("undefined"!==typeof google)return void a();const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2-8A4YQjn3bJrv8dCetyeFQ0WQTLYbJQ&libraries=places",e.async=!0,e.defer=!0,e.onload=a,document.head.appendChild(e)}))},initMap(){this.geocoder=new google.maps.Geocoder,this.map=new google.maps.Map(document.getElementById("map"),{zoom:15,center:{lat:0,lng:0}}),this.geocodeAddress(this.address)},geocodeAddress(a){this.geocoder.geocode({address:a},((a,e)=>{"OK"===e?(this.map.setCenter(a[0].geometry.location),new google.maps.Marker({map:this.map,position:a[0].geometry.location})):console.error("Error de geocodificación:",e)}))}}};const lt=(0,i.A)(ot,[["render",st],["__scopeId","data-v-c3b9a516"]]);var rt=lt,nt={components:{MapComponent:rt},name:"MatchDetails",data(){return{match:{date:"",round_number:"",location:"",team_1_id:"",team_2_id:"",score_team_1:null,score_team_2:null,details:""},teams:[],players:[],matchGoals:[],selectedPlayerId:"",goalCount:1,isFavoriteTeamPlaying:!1,favoriteTeam:"",activeTab:"datos",convocados:[],localTeam:"",visitorTeam:"",apiUrl:"https://hockey-manager.onrender.com",errors:{}}},computed:{availablePlayers(){return this.players.filter((a=>!this.isConvocado(a.player_id)))},finalAddress(){return this.match.location||this.localTeam&&this.localTeam.address}},async created(){const a=this.$route.params.match_id;try{const e=await y.get(`/matches/${a}`);this.match=e.data;const t=await y.get("/teams/favorite");if(this.favoriteTeam=t.data,this.isFavoriteTeamPlaying=[this.match.team_1_id,this.match.team_2_id].includes(Number(this.favoriteTeam.team_id)),this.isFavoriteTeamPlaying){const e=await y.get("/players");this.players=e.data;const t=await y.get(`/matches/${a}/events/goals`);this.matchGoals=t.data}const s=await y.get("/teams");this.teams=s.data;const o=await y.get(`/matches/${a}/convocatoria`);this.convocados=o.data,this.localTeam=this.teams.find((a=>a.team_id===this.match.team_1_id)),this.visitorTeam=this.teams.find((a=>a.team_id===this.match.team_2_id))}catch(e){console.error("Error al cargar los detalles del partido:",e),alert("No se pudo cargar la información del partido.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},formatDateTime(a){const e=new Date(a);return e.toLocaleString()},isConvocado(a){return this.convocados.some((e=>e.player_id===a))},getGoogleMapsLink(a){const e=encodeURIComponent(a);return`https://www.google.com/maps/search/?api=1&query=${e}`},getGoogleMapsThumbnail(a){const e=encodeURIComponent(a),t="AIzaSyD2-8A4YQjn3bJrv8dCetyeFQ0WQTLYbJQ";return`https://maps.googleapis.com/maps/api/staticmap?center=${e}&zoom=15&size=300x200&maptype=roadmap&markers=color:red%7C${e}&key=${t}`}}};const it=(0,i.A)(nt,[["render",et],["__scopeId","data-v-fecc5cc4"]]);var ct=it;const dt={class:"dashboard"},mt={class:"navbar"},ut={class:"edit-match"},pt={class:"tab-container"},ht={key:0,class:"tab-content"},kt={class:"errors"},vt={key:0,class:"error-message"},gt={key:1,class:"error-message"},Lt={key:2,class:"error-message"},bt={key:3,class:"error-message"},yt={key:4,class:"error-message"},_t=["value"],Ct=["value"],ft={key:1,class:"tab-content goals-section"},Et=["value"],Tt={class:"goal-table"},$t=["onClick"],Ft={key:2,class:"tab-content"},Xt={class:"players-list box-data"},wt=["onClick"],qt=["onClick"],Pt={class:"convocados-list box-data"},Ut=["onClick"];function It(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",dt,[(0,o.Lk)("nav",mt,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[20]||(e[20]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"active nav-item"},e[21]||(e[21]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[22]||(e[22]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[23]||(e[23]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[24]||(e[24]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",ut,[e[47]||(e[47]=(0,o.Lk)("h2",null,"Editar Partido",-1)),(0,o.Lk)("div",pt,[(0,o.Lk)("div",{class:(0,E.C4)(["tab",{active:"datos"===r.activeTab}]),onClick:e[5]||(e[5]=a=>r.activeTab="datos")},"Datos",2),r.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,E.C4)(["tab",{active:"goles"===r.activeTab}]),onClick:e[6]||(e[6]=a=>r.activeTab="goles")},"Goles",2)):(0,o.Q3)("",!0),r.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,E.C4)(["tab",{active:"convocatoria"===r.activeTab}]),onClick:e[7]||(e[7]=a=>r.activeTab="convocatoria")},"Convocatoria",2)):(0,o.Q3)("",!0)]),(0,o.Lk)("form",{onSubmit:e[19]||(e[19]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},["datos"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",ht,[(0,o.Lk)("div",kt,[r.errors.date?((0,o.uX)(),(0,o.CE)("span",vt,(0,E.v_)(r.errors.date),1)):(0,o.Q3)("",!0),r.errors.round_number?((0,o.uX)(),(0,o.CE)("span",gt,(0,E.v_)(r.errors.round_number),1)):(0,o.Q3)("",!0),r.errors.team_1_id?((0,o.uX)(),(0,o.CE)("span",Lt,(0,E.v_)(r.errors.team_1_id),1)):(0,o.Q3)("",!0),r.errors.team_2_id?((0,o.uX)(),(0,o.CE)("span",bt,(0,E.v_)(r.errors.team_2_id),1)):(0,o.Q3)("",!0),r.errors.same_team?((0,o.uX)(),(0,o.CE)("span",yt,(0,E.v_)(r.errors.same_team),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[e[25]||(e[25]=(0,o.Lk)("label",{for:"date"},"Fecha y Hora",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":e[8]||(e[8]=a=>r.match.date=a),required:""},null,512),[[s.Jo,r.match.date]])]),(0,o.Lk)("div",null,[e[26]||(e[26]=(0,o.Lk)("label",{for:"round_number"},"Jornada",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=a=>r.match.round_number=a),min:"1",required:""},null,512),[[s.Jo,r.match.round_number]])]),(0,o.Lk)("div",null,[e[27]||(e[27]=(0,o.Lk)("label",{for:"location"},"Ubicación (Llenar solo si la dirección no es la habitual del equipo)",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>r.match.location=a),placeholder:"Dirección del partido"},null,512),[[s.Jo,r.match.location]])]),(0,o.Lk)("div",null,[e[29]||(e[29]=(0,o.Lk)("label",{for:"team_1_id"},"Equipo Local",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[11]||(e[11]=a=>r.match.team_1_id=a),required:""},[e[28]||(e[28]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,_t)))),128))],512),[[s.u1,r.match.team_1_id]])]),(0,o.Lk)("div",null,[e[31]||(e[31]=(0,o.Lk)("label",{for:"team_2_id"},"Equipo Visitante",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[12]||(e[12]=a=>r.match.team_2_id=a),required:""},[e[30]||(e[30]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,Ct)))),128))],512),[[s.u1,r.match.team_2_id]])]),(0,o.Lk)("div",null,[e[32]||(e[32]=(0,o.Lk)("label",{for:"score_team_1"},"Goles Equipo Local",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=a=>r.match.score_team_1=a),min:"0"},null,512),[[s.Jo,r.match.score_team_1]])]),(0,o.Lk)("div",null,[e[33]||(e[33]=(0,o.Lk)("label",{for:"score_team_2"},"Goles Equipo Visitante",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=a=>r.match.score_team_2=a),min:"0"},null,512),[[s.Jo,r.match.score_team_2]])]),(0,o.Lk)("div",null,[e[34]||(e[34]=(0,o.Lk)("label",{for:"details"},"Detalles Adicionales",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":e[15]||(e[15]=a=>r.match.details=a),placeholder:"Detalles del partido"},null,512),[[s.Jo,r.match.details]])])])):(0,o.Q3)("",!0),"goles"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",ft,[e[40]||(e[40]=(0,o.Lk)("h3",null,"Registrar Goles",-1)),(0,o.Lk)("div",null,[e[36]||(e[36]=(0,o.Lk)("label",{for:"player"},"Jugador",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[16]||(e[16]=a=>r.selectedPlayerId=a)},[e[35]||(e[35]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un jugador",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.players,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.player_id,value:a.player_id},(0,E.v_)(a.name),9,Et)))),128))],512),[[s.u1,r.selectedPlayerId]])]),(0,o.Lk)("div",null,[e[37]||(e[37]=(0,o.Lk)("label",{for:"goals"},"Número de Goles",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[17]||(e[17]=a=>r.goalCount=a),min:"1",placeholder:"Cantidad de goles"},null,512),[[s.Jo,r.goalCount]])]),(0,o.Lk)("button",{onClick:e[18]||(e[18]=(0,s.D$)(((...a)=>n.addGoal&&n.addGoal(...a)),["prevent"]))},"Añadir Goles"),(0,o.Lk)("table",Tt,[e[39]||(e[39]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Jugador"),(0,o.Lk)("th",null,"Goles"),(0,o.Lk)("th")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.matchGoals,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.event_id},[(0,o.Lk)("td",null,(0,E.v_)(a.player_name),1),(0,o.Lk)("td",null,(0,E.v_)(a.event_number),1),(0,o.Lk)("td",null,[(0,o.Lk)("span",{onClick:(0,s.D$)((e=>n.deleteGoal(a.event_id)),["prevent"]),class:"icon-button"},e[38]||(e[38]=[(0,o.Lk)("span",{class:"material-icons"},"delete",-1)]),8,$t)])])))),128))])])])):(0,o.Q3)("",!0),"convocatoria"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",Ft,[e[44]||(e[44]=(0,o.Lk)("h4",null,"Mis jugadores",-1)),(0,o.Lk)("div",Xt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.availablePlayers,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1),n.isConvocado(a.player_id)?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,s.D$)((e=>n.removeFromConvocatoria(a)),["prevent"]),class:"icon-button remove"},e[42]||(e[42]=[(0,o.Lk)("span",{class:"material-icons"},"remove",-1)]),8,qt)):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:(0,s.D$)((e=>n.addToConvocatoria(a)),["prevent"]),class:"icon-button add"},e[41]||(e[41]=[(0,o.Lk)("span",{class:"material-icons"},"add",-1)]),8,wt))])))),128))]),e[45]||(e[45]=(0,o.Lk)("h4",null,"Jugadores Convocados",-1)),(0,o.Lk)("div",Pt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.convocados,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1),(0,o.Lk)("button",{onClick:(0,s.D$)((e=>n.removeFromConvocatoria(a)),["prevent"]),class:"icon-button remove"},e[43]||(e[43]=[(0,o.Lk)("span",{class:"material-icons"},"remove",-1)]),8,Ut)])))),128))])])):(0,o.Q3)("",!0),e[46]||(e[46]=(0,o.Lk)("button",{type:"submit"},"Guardar Cambios",-1))],32)])],64)}var At={name:"EditMatch",data(){return{match:{date:"",round_number:"",location:"",team_1_id:"",team_2_id:"",score_team_1:null,score_team_2:null,details:""},teams:[],players:[],matchGoals:[],selectedPlayerId:"",goalCount:1,isFavoriteTeamPlaying:!1,favoriteTeam:"",activeTab:"datos",convocados:[],errors:{}}},async created(){const a=this.$route.params.match_id;try{const e=await y.get(`/matches/${a}`);this.match=e.data;const t=await y.get("/teams/favorite");if(this.favoriteTeam=t.data,this.isFavoriteTeamPlaying=[this.match.team_1_id,this.match.team_2_id].includes(Number(this.favoriteTeam.team_id)),this.isFavoriteTeamPlaying){const e=await y.get("/players");this.players=e.data;const t=await y.get(`/matches/${a}/events/goals`);this.matchGoals=t.data}const s=await y.get("/teams");this.teams=s.data;const o=await y.get(`/matches/${a}/convocatoria`);this.convocados=o.data}catch(e){console.error("Error al cargar los datos del partido:",e),alert("No se pudo cargar la información del partido.")}},computed:{availablePlayers(){return this.players.filter((a=>!this.isConvocado(a.player_id)))}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},validateForm(){return this.errors={},this.match.team_1_id||(this.errors.team_1_id="El equipo local es obligatorio."),this.match.team_2_id||(this.errors.team_2_id="El equipo visitante es obligatorio."),this.match.team_1_id&&this.match.team_2_id&&this.match.team_1_id===this.match.team_2_id&&(this.errors.same_team="El equipo local y el visitante no pueden ser el mismo."),this.match.round_number||(this.errors.round_number="La jornada es obligatoria."),this.match.date||(this.errors.date="La fecha y hora son obligatorias."),0===Object.keys(this.errors).length},async addGoal(){if(!this.selectedPlayerId||!this.goalCount)return alert("Selecciona un jugador e ingresa la cantidad de goles.");const a=this.$route.params.match_id;try{const e=await y.post(`/matches/${a}/events/goal`,{player_id:this.selectedPlayerId,event_number:this.goalCount});this.matchGoals.push({event_id:e.data.event_id,player_name:this.players.find((a=>a.player_id===this.selectedPlayerId)).name,event_number:this.goalCount}),this.selectedPlayerId="",this.goalCount=1}catch(e){console.error("Error al registrar el gol:",e),alert("No se pudo registrar el gol.")}},async deleteGoal(a){const e=this.$route.params.match_id;try{await y.delete(`/matches/${e}/events/goal/${a}`),this.matchGoals=this.matchGoals.filter((e=>e.event_id!==a)),alert("Gol eliminado con éxito.")}catch(t){console.error("Error al eliminar el gol:",t),alert("No se pudo eliminar el gol.")}},async addToConvocatoria(a){const e=this.$route.params.match_id;try{await y.post(`/matches/${e}/convocatoria/${a.player_id}`),this.convocados.push(a)}catch(t){console.error("Error al añadir a la convocatoria:",t)}},async removeFromConvocatoria(a){const e=this.$route.params.match_id;try{await y.delete(`/matches/${e}/convocatoria/${a.player_id}`),this.convocados=this.convocados.filter((e=>e.player_id!==a.player_id))}catch(t){console.error("Error al eliminar de la convocatoria:",t)}},isConvocado(a){return this.convocados.some((e=>e.player_id===a))},async submitForm(){if(this.validateForm())try{await y.put(`/matches/update/${this.$route.params.match_id}`,this.match),alert("Partido actualizado con éxito"),this.$router.push("/dashboard/results")}catch(a){console.error("Error al actualizar el partido:",a),alert("No se pudo actualizar el partido")}}}};const Dt=(0,i.A)(At,[["render",It],["__scopeId","data-v-33bf8771"]]);var Jt=Dt;const Qt={class:"dashboard"},St={class:"navbar"},xt={class:"create-match"},Gt={class:"header"},Mt={class:"errors"},Nt={key:0,class:"error-message"},Vt={key:1,class:"error-message"},jt={key:2,class:"error-message"},Kt={key:3,class:"error-message"},zt={key:4,class:"error-message"},Rt=["value"],Ot=["value"];function Wt(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Qt,[(0,o.Lk)("nav",St,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"active nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[15]||(e[15]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[16]||(e[16]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[17]||(e[17]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",xt,[(0,o.Lk)("div",Gt,[e[18]||(e[18]=(0,o.Lk)("h2",null,"Crear Partido",-1)),(0,o.Q3)("",!0)]),(0,o.Lk)("form",{onSubmit:e[12]||(e[12]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},[(0,o.Lk)("div",Mt,[r.errors.date?((0,o.uX)(),(0,o.CE)("span",Nt,(0,E.v_)(r.errors.date),1)):(0,o.Q3)("",!0),r.errors.round_number?((0,o.uX)(),(0,o.CE)("span",Vt,(0,E.v_)(r.errors.round_number),1)):(0,o.Q3)("",!0),r.errors.team_1_id?((0,o.uX)(),(0,o.CE)("span",jt,(0,E.v_)(r.errors.team_1_id),1)):(0,o.Q3)("",!0),r.errors.team_2_id?((0,o.uX)(),(0,o.CE)("span",Kt,(0,E.v_)(r.errors.team_2_id),1)):(0,o.Q3)("",!0),r.errors.same_team?((0,o.uX)(),(0,o.CE)("span",zt,(0,E.v_)(r.errors.same_team),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[e[19]||(e[19]=(0,o.Lk)("label",{for:"date"},"Fecha y Hora",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":e[6]||(e[6]=a=>r.match.date=a),required:""},null,512),[[s.Jo,r.match.date]])]),(0,o.Lk)("div",null,[e[20]||(e[20]=(0,o.Lk)("label",{for:"round_number"},"Jornada",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=a=>r.match.round_number=a),min:"1",required:""},null,512),[[s.Jo,r.match.round_number]])]),(0,o.Lk)("div",null,[e[21]||(e[21]=(0,o.Lk)("label",{for:"location"},"Ubicación (Llenar solo si la dirección no es la habitual del equipo)",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>r.match.location=a),placeholder:"Dirección del partido"},null,512),[[s.Jo,r.match.location]])]),(0,o.Lk)("div",null,[e[23]||(e[23]=(0,o.Lk)("label",{for:"team_1_id"},"Equipo Local",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=a=>r.match.team_1_id=a),required:""},[e[22]||(e[22]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,Rt)))),128))],512),[[s.u1,r.match.team_1_id]])]),(0,o.Lk)("div",null,[e[25]||(e[25]=(0,o.Lk)("label",{for:"team_2_id"},"Equipo Visitante",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[10]||(e[10]=a=>r.match.team_2_id=a),required:""},[e[24]||(e[24]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,Ot)))),128))],512),[[s.u1,r.match.team_2_id]])]),(0,o.Lk)("div",null,[e[26]||(e[26]=(0,o.Lk)("label",{for:"details"},"Detalles Adicionales",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=a=>r.match.details=a),placeholder:"Detalles del partido"},null,512),[[s.Jo,r.match.details]])]),e[27]||(e[27]=(0,o.Lk)("button",{type:"submit"},"Crear Partido",-1))],32)])],64)}var Bt={name:"CreateMatch",data(){return{match:{date:"",round_number:"",location:"",team_1_id:"",team_2_id:"",details:""},teams:[],errors:{}}},async created(){try{const a=await y.get("/teams");this.teams=a.data}catch(a){console.error("Error al cargar los equipos:",a),alert("No se pudo cargar la lista de equipos.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},validateForm(){return this.errors={},this.match.team_1_id||(this.errors.team_1_id="El equipo local es obligatorio."),this.match.team_2_id||(this.errors.team_2_id="El equipo visitante es obligatorio."),this.match.team_1_id===this.match.team_2_id&&(this.errors.same_team="El equipo local y el visitante no pueden ser el mismo."),this.match.round_number||(this.errors.round_number="La jornada es obligatoria."),this.match.date||(this.errors.date="La fecha y hora son obligatorias."),0===Object.keys(this.errors).length},async submitForm(){if(this.validateForm())try{const a=await y.post("/matches/create",this.match),e=a.data.match_id;alert("Partido creado con éxito"),this.$router.push("/matches/edit/"+e)}catch(a){console.error("Error al crear el partido:",a),alert("No se pudo crear el partido")}}}};const Yt=(0,i.A)(Bt,[["render",Wt],["__scopeId","data-v-eac15732"]]);var Ht=Yt;const Zt={class:"dashboard"},as={class:"navbar"},es={class:"team-details"},ts={class:"header"},ss={class:"box-data"},os=["src"],ls=["src"],rs={key:2,class:"map-link"},ns=["href"];function is(a,e,t,s,l,r){const n=(0,o.g2)("MapComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Zt,[(0,o.Lk)("nav",as,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:"nav-item"},e[6]||(e[6]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:"nav-item"},e[7]||(e[7]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:"nav-item"},e[8]||(e[8]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:"active nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:"nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",es,[(0,o.Lk)("div",ts,[(0,o.Lk)("h2",null,(0,E.v_)(l.team.name),1),(0,o.Lk)("button",{onClick:e[5]||(e[5]=(...a)=>r.editTeam&&r.editTeam(...a)),class:"edit-team-button"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"edit",-1)]))]),(0,o.Lk)("div",ss,[l.team.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${l.team.logo_path}`,alt:"Escudo del equipo",class:"team-logo-large"},null,8,os)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo del equipo",class:"team-logo-large"},null,8,ls)),(0,o.Lk)("p",null,[e[12]||(e[12]=(0,o.Lk)("strong",null,"Dirección:",-1)),(0,o.eW)(" "+(0,E.v_)(l.team.address),1)]),(0,o.Lk)("p",null,[e[13]||(e[13]=(0,o.Lk)("strong",null,"Teléfono:",-1)),(0,o.eW)(" "+(0,E.v_)(l.team.phone),1)]),r.finalAddress?((0,o.uX)(),(0,o.CE)("div",rs,[e[14]||(e[14]=(0,o.Lk)("h3",null,"Ubicación",-1)),r.finalAddress?((0,o.uX)(),(0,o.Wv)(n,{key:0,address:r.finalAddress},null,8,["address"])):(0,o.Q3)("",!0),(0,o.Lk)("a",{href:r.getGoogleMapsLink(r.finalAddress),target:"_blank"},"Ver en Google Maps",8,ns)])):(0,o.Q3)("",!0)])])],64)}var cs={components:{MapComponent:rt},data(){return{team:{},apiUrl:"https://hockey-manager.onrender.com"}},async created(){const a=this.$route.params.team_id;try{const e=await y.get(`/teams/${a}`);this.team=e.data}catch(e){console.error("Error al cargar los detalles del equipo:",e),alert("No se pudieron cargar los detalles del equipo.")}},computed:{finalAddress(){return this.team&&this.team.address}},methods:{editTeam(){this.$router.push(`/teams/edit/${this.team.team_id}`)},navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},getGoogleMapsLink(a){const e=encodeURIComponent(a);return`https://www.google.com/maps/search/?api=1&query=${e}`},getGoogleMapsThumbnail(a){const e=encodeURIComponent(a),t="AIzaSyD2-8A4YQjn3bJrv8dCetyeFQ0WQTLYbJQ";return`https://maps.googleapis.com/maps/api/staticmap?center=${e}&zoom=15&size=300x200&maptype=roadmap&markers=color:red%7C${e}&key=${t}`}}};const ds=(0,i.A)(cs,[["render",is],["__scopeId","data-v-acfc40ea"]]);var ms=ds;const us={class:"dashboard"},ps={class:"navbar"},hs={class:"create-team"},ks={class:"form-group"},vs={class:"form-group"},gs={class:"form-group"};function Ls(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",us,[(0,o.Lk)("nav",ps,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"active nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",hs,[e[18]||(e[18]=(0,o.Lk)("h2",null,"Crear Nuevo Equipo",-1)),(0,o.Lk)("form",{onSubmit:e[8]||(e[8]=(0,s.D$)(((...a)=>n.createTeam&&n.createTeam(...a)),["prevent"]))},[(0,o.Lk)("div",ks,[e[14]||(e[14]=(0,o.Lk)("label",{for:"name"},"Nombre del Equipo",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>r.team.name=a),id:"name",required:""},null,512),[[s.Jo,r.team.name]])]),(0,o.Lk)("div",vs,[e[15]||(e[15]=(0,o.Lk)("label",{for:"address"},"Dirección",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>r.team.address=a),id:"address"},null,512),[[s.Jo,r.team.address]])]),(0,o.Lk)("div",gs,[e[16]||(e[16]=(0,o.Lk)("label",{for:"phone"},"Teléfono",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=a=>r.team.phone=a),id:"phone"},null,512),[[s.Jo,r.team.phone]])]),e[17]||(e[17]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Crear Equipo",-1))],32)])],64)}var bs={data(){return{team:{name:"",address:"",phone:""},logoFile:null}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},async createTeam(){const a=new FormData;a.append("name",this.team.name),a.append("address",this.team.address),a.append("phone",this.team.phone);try{const e=await y.post("/teams",a,{headers:{"Content-Type":"multipart/form-data"}}),t=e.data.team_id;alert("Equipo creado exitosamente"),this.$router.push("/teams/edit/"+t)}catch(e){console.error("Error al crear el equipo:",e),alert("No se pudo crear el equipo")}}}};const ys=(0,i.A)(bs,[["render",Ls],["__scopeId","data-v-41227f70"]]);var _s=ys;const Cs={class:"dashboard"},fs={class:"navbar"},Es={class:"edit-team"},Ts={class:"form-group"},$s={class:"form-group"},Fs={key:0,class:"current-logo"},Xs=["src"],ws={class:"form-group"},qs={class:"form-group"};function Ps(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Cs,[(0,o.Lk)("nav",fs,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"active nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",Es,[e[21]||(e[21]=(0,o.Lk)("h2",null,"Editar Equipo",-1)),(0,o.Lk)("form",{onSubmit:e[9]||(e[9]=(0,s.D$)(((...a)=>n.updateTeam&&n.updateTeam(...a)),["prevent"]))},[(0,o.Lk)("div",Ts,[e[15]||(e[15]=(0,o.Lk)("label",{for:"name"},"Nombre del Equipo",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>r.team.name=a),id:"name",required:""},null,512),[[s.Jo,r.team.name]])]),(0,o.Lk)("div",$s,[e[17]||(e[17]=(0,o.Lk)("label",{for:"logo"},"Logo del Equipo",-1)),(0,o.Lk)("input",{type:"file",onChange:e[6]||(e[6]=(...a)=>n.onFileChange&&n.onFileChange(...a)),id:"logo"},null,32),r.team.logo_path?((0,o.uX)(),(0,o.CE)("div",Fs,[e[16]||(e[16]=(0,o.Lk)("p",null,"Logo Actual:",-1)),(0,o.Lk)("img",{src:`${r.apiUrl}${r.team.logo_path}`,alt:"Logo del equipo"},null,8,Xs)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ws,[e[18]||(e[18]=(0,o.Lk)("label",{for:"address"},"Dirección",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=a=>r.team.address=a),id:"address"},null,512),[[s.Jo,r.team.address]])]),(0,o.Lk)("div",qs,[e[19]||(e[19]=(0,o.Lk)("label",{for:"phone"},"Teléfono",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>r.team.phone=a),id:"phone"},null,512),[[s.Jo,r.team.phone]])]),e[20]||(e[20]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Actualizar Equipo",-1))],32)])],64)}var Us={data(){return{team:{name:"",address:"",phone:"",logoPath:""},logoFile:null,apiUrl:"https://hockey-manager.onrender.com"}},async created(){const a=this.$route.params.team_id;try{const e=await y.get(`/teams/${a}`);this.team=e.data}catch(e){console.error("Error al cargar los datos del equipo:",e),alert("No se pudieron cargar los datos del equipo.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},onFileChange(a){this.logoFile=a.target.files[0]},async updateTeam(){const a=new FormData;a.append("name",this.team.name),a.append("address",this.team.address),a.append("phone",this.team.phone),this.logoFile&&a.append("logo",this.logoFile);try{await y.put(`/teams/${this.team.team_id}`,a,{headers:{"Content-Type":"multipart/form-data"}}),alert("Equipo actualizado exitosamente"),this.$router.push("/dashboard/teams")}catch(e){console.error("Error al actualizar el equipo:",e),alert("No se pudo actualizar el equipo")}}}};const Is=(0,i.A)(Us,[["render",Ps],["__scopeId","data-v-192398e4"]]);var As=Is;const Ds=[{path:"/",name:"Login",component:f},{path:"/team-selection",name:"TeamSelection",component:G,meta:{requiresAuth:!0}},{path:"/players/create",name:"CreatePlayer",component:ge},{path:"/players/:player_id",name:"PlayerDetails",component:de},{path:"/players/edit/:player_id",name:"EditPlayer",component:$e},{path:"/matches/details/:match_id",name:"MatchDetails",component:ct},{path:"/matches/edit/:match_id",name:"EditMatch",component:Jt},{path:"/matches/create",name:"CreateMatch",component:Ht},{path:"/teams/:team_id",name:"TeamDetails",component:ms},{path:"/teams/create",name:"CreateTeam",component:_s},{path:"/teams/edit/:team_id",name:"EditTeam",component:As},{path:"/dashboard",name:"Dashboard",component:z,meta:{requiresAuth:!0},children:[{path:"standings",name:"Standings",component:Y},{path:"results",name:"Results",component:ba},{path:"roster",name:"Roster",component:Pa},{path:"teams",name:"Teams",component:Ma},{path:"stats",name:"Statistics",component:Wa}]}],Js=(0,m.aE)({history:(0,m.LA)("/hockey-manager/"),routes:Ds});Js.beforeEach(((a,e,t)=>{const s=!!localStorage.getItem("token");a.meta.requiresAuth&&!s?t({name:"Login"}):t()}));var Qs=Js;t(3855);console.log("API URL:","https://hockey-manager.onrender.com"),(0,s.Ef)(d).use(Qs).mount("#app")}},e={};function t(s){var o=e[s];if(void 0!==o)return o.exports;var l=e[s]={exports:{}};return a[s].call(l.exports,l,l.exports,t),l.exports}t.m=a,function(){var a=[];t.O=function(e,s,o,l){if(!s){var r=1/0;for(d=0;d<a.length;d++){s=a[d][0],o=a[d][1],l=a[d][2];for(var n=!0,i=0;i<s.length;i++)(!1&l||r>=l)&&Object.keys(t.O).every((function(a){return t.O[a](s[i])}))?s.splice(i--,1):(n=!1,l<r&&(r=l));if(n){a.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[s,o,l]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var s in e)t.o(e,s)&&!t.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,s){var o,l,r=s[0],n=s[1],i=s[2],c=0;if(r.some((function(e){return 0!==a[e]}))){for(o in n)t.o(n,o)&&(t.m[o]=n[o]);if(i)var d=i(t)}for(e&&e(s);c<r.length;c++)l=r[c],t.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return t.O(d)},s=self["webpackChunkhockey_manager_frontend"]=self["webpackChunkhockey_manager_frontend"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],(function(){return t(666)}));s=t.O(s)})();
//# sourceMappingURL=app.ee0e530e.js.map