(function(){"use strict";var a={3955:function(a,e,t){var s=t(5130),o=t(6768);const l={id:"app"};function r(a,e,t,s,r,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(i)])}var n={name:"App",data(){return{activeTab:"standings"}}},i=t(1241);const c=(0,i.A)(n,[["render",r]]);var d=c,m=t(973);const u={class:"login-container"},p={class:"login-box"},h=["src"],k={class:"input-group"},v={class:"input-group"};function g(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",p,[(0,o.Lk)("img",{src:`${r.apiUrl}/uploads/login.png`,alt:"Logo",class:"logo-image"},null,8,h),e[6]||(e[6]=(0,o.Lk)("h2",null,"Iniciar Sesión",-1)),(0,o.Lk)("form",{onSubmit:e[2]||(e[2]=(0,s.D$)(((...a)=>n.handleLogin&&n.handleLogin(...a)),["prevent"]))},[(0,o.Lk)("div",k,[e[3]||(e[3]=(0,o.Lk)("label",{for:"username"},"Usuario",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=a=>r.username=a),required:""},null,512),[[s.Jo,r.username]])]),(0,o.Lk)("div",v,[e[4]||(e[4]=(0,o.Lk)("label",{for:"password"},"Contraseña",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>r.password=a),required:""},null,512),[[s.Jo,r.password]])]),e[5]||(e[5]=(0,o.Lk)("button",{type:"submit",class:"login-button"},"Entrar",-1))],32)])])}t(4114);var L=t(4373);const b=L.A.create({baseURL:"https://hockey-manager.onrender.com",withCredentials:!0,headers:{"Content-Type":"application/json"}});L.A.defaults.headers.common["Authorization"]=`Bearer ${localStorage.getItem("token")}`,b.interceptors.request.use((a=>{const e=localStorage.getItem("token");return e&&(a.headers.Authorization=`Bearer ${e}`),a}),(a=>Promise.reject(a)));var y=b,_={name:"LoginPage",data(){return{username:"",password:"",errorMessage:"",apiUrl:"https://hockey-manager.onrender.com"}},methods:{async handleLogin(){try{const a=await y.post("/auth/login",{username:this.username,password:this.password});localStorage.setItem("token",a.data.token),localStorage.setItem("role",a.data.role),this.$router.push("/team-selection")}catch(a){console.error("Error al iniciar sesión:",a),this.errorMessage="Credenciales incorrectas. Inténtalo de nuevo."}}}};const C=(0,i.A)(_,[["render",g],["__scopeId","data-v-46c75dec"]]);var f=C,E=t(4232);const T={class:"team-selection-container"},$={class:"team-selection-box"},w=["src"],X={class:"btn-creation"},F={key:0,class:"box-data"},q={key:0},I={key:1},U={key:2},P=["disabled"],A={class:"input-group"},D=["value"];function Q(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)("div",T,[(0,o.Lk)("div",$,[(0,o.Lk)("img",{src:`${r.apiUrl}/uploads/login.png`,alt:"",class:"logo-image"},null,8,w),e[13]||(e[13]=(0,o.Lk)("div",{class:"title-selection"},[(0,o.Lk)("h2",null,"Seleccionar Equipo")],-1)),(0,o.Lk)("div",X,[r.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...a)=>n.toggleCreateTeamForm&&n.toggleCreateTeamForm(...a))},"Crear nuevo Equipo")):(0,o.Q3)("",!0)]),r.showCreateTeamForm?((0,o.uX)(),(0,o.CE)("div",F,[e[10]||(e[10]=(0,o.Lk)("h3",null,"Crear un Nuevo Equipo",-1)),(0,o.Lk)("form",{onSubmit:e[7]||(e[7]=(0,s.D$)(((...a)=>n.createTeam&&n.createTeam(...a)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.newTeam.name=a),type:"text",placeholder:"Nombre del Equipo",onInput:e[2]||(e[2]=(...a)=>n.validateName&&n.validateName(...a)),required:""},null,544),[[s.Jo,r.newTeam.name]]),r.errors.name?((0,o.uX)(),(0,o.CE)("p",q,(0,E.v_)(r.errors.name),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.newTeam.db_name=a),type:"text",placeholder:"Nombre de la BD",onInput:e[4]||(e[4]=(...a)=>n.validateDbName&&n.validateDbName(...a)),required:""},null,544),[[s.Jo,r.newTeam.db_name]]),r.errors.db_name?((0,o.uX)(),(0,o.CE)("p",I,(0,E.v_)(r.errors.db_name),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>r.newTeam.description=a),type:"text",placeholder:"Descripción",onInput:e[6]||(e[6]=(...a)=>n.validateDescription&&n.validateDescription(...a)),required:""},null,544),[[s.Jo,r.newTeam.description]]),r.errors.description?((0,o.uX)(),(0,o.CE)("p",U,(0,E.v_)(r.errors.description),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"submit",disabled:!n.isFormValid},"Guardar",8,P)],32)])):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:e[9]||(e[9]=(0,s.D$)(((...a)=>n.handleTeamSelection&&n.handleTeamSelection(...a)),["prevent"]))},[(0,o.Lk)("div",A,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=a=>r.selectedTeam=a),id:"team",required:""},[e[11]||(e[11]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.myteam_id,value:a.myteam_id},(0,E.v_)(a.name),9,D)))),128))],512),[[s.u1,r.selectedTeam]])]),e[12]||(e[12]=(0,o.Lk)("button",{type:"submit",class:"select-button"},"Acceder",-1))],32)])])}var x=t(5068),J={data(){return{teams:[],isAdmin:!1,showCreateTeamForm:!1,newTeam:{name:"",db_name:"",description:""},errors:{name:null,db_name:null,description:null},selectedTeam:"",apiUrl:"https://hockey-manager.onrender.com"}},computed:{isFormValid(){return!this.errors.name&&!this.errors.db_name&&!this.errors.description&&this.newTeam.name&&this.newTeam.db_name&&this.newTeam.description}},async created(){const a=localStorage.getItem("token");if(a){const e=(0,x.s)(a);this.isAdmin="admin"===e.role}try{const e=await y.get("/myteams",{headers:{Authorization:`Bearer ${a}`}});this.teams=e.data}catch(e){console.error("Error al obtener los equipos:",e),this.$router.push("/")}},methods:{async handleTeamSelection(){this.selectedTeam&&y.post("/myteams/select",{myteam_id:this.selectedTeam}).then((a=>{const e=a.data.token;localStorage.setItem("token",e),console.log("Nuevo token recibido:",e),this.$router.push("/dashboard/standings")})).catch((a=>{console.error("Error seleccionando equipo:",a),alert("No se pudo seleccionar el equipo. Intenta de nuevo.")}))},toggleCreateTeamForm(){this.showCreateTeamForm=!this.showCreateTeamForm},validateName(){this.newTeam.name.length<3?this.errors.name="El nombre del equipo debe tener al menos 3 caracteres.":this.newTeam.name.length>50?this.errors.name="El nombre del equipo no puede exceder los 50 caracteres.":this.errors.name=null},validateDbName(){const a=/^[a-zA-Z0-9_]+$/;this.newTeam.db_name?a.test(this.newTeam.db_name)?this.errors.db_name=null:this.errors.db_name="El nombre de la base de datos solo puede contener letras, números y guiones bajos.":this.errors.db_name="El nombre de la base de datos es obligatorio."},validateDescription(){this.newTeam.description.length>200?this.errors.description="La descripción no puede exceder los 200 caracteres.":this.newTeam.description?this.errors.description=null:this.errors.description="La descripción es obligatoria."},async createTeam(){if(this.isFormValid)try{const a=localStorage.getItem("token"),e=await y.post("/myteams/create",this.newTeam,{headers:{Authorization:`Bearer ${a}`}});this.teams.push(e.data),this.newTeam.name="",this.newTeam.db_name="",this.newTeam.description="",this.errors={name:null,db_name:null,description:null},this.showCreateTeamForm=!1,alert("Equipo creado exitosamente.")}catch(a){console.error("Error al crear el equipo:",a),alert("No se pudo crear el equipo. Intenta de nuevo.")}},async selectTeam(a){try{const e=localStorage.getItem("token");await y.post("/myteams/select",{myteam_id:a},{headers:{Authorization:`Bearer ${e}`}}),this.$router.push("/dashboard/standings")}catch(e){console.error("Error al seleccionar el equipo:",e),alert("No se pudo seleccionar el equipo. Intenta de nuevo.")}}}};const S=(0,i.A)(J,[["render",Q],["__scopeId","data-v-3f84a4f0"]]);var V=S;const M={class:"dashboard"},N={class:"navbar"};function G(a,e,t,s,l,r){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("nav",N,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:(0,E.C4)([{active:"standings"===l.activeTab},"nav-item"])},e[5]||(e[5]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)]),2),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:(0,E.C4)([{active:"results"===l.activeTab},"nav-item"])},e[6]||(e[6]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)]),2),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:(0,E.C4)([{active:"roster"===l.activeTab},"nav-item"])},e[7]||(e[7]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)]),2),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:(0,E.C4)([{active:"teams"===l.activeTab},"nav-item"])},e[8]||(e[8]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)]),2),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:(0,E.C4)([{active:"stats"===l.activeTab},"nav-item"])},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]),2)]),(0,o.bF)(n)])}var j={name:"Dashboard",data(){return{activeTab:"standings"}},mounted(){"/dashboard"===this.$route.path&&this.$router.push("/dashboard/standings")},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)}}};const K=(0,i.A)(j,[["render",G]]);var z=K;const R={class:"standings"};function O(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",R,[e[1]||(e[1]=(0,o.Lk)("h2",null,"Clasificación",-1)),(0,o.Lk)("table",null,[e[0]||(e[0]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Equipo"),(0,o.Lk)("th",null,"Pts"),(0,o.Lk)("th",null,"PJ"),(0,o.Lk)("th",null,"PG"),(0,o.Lk)("th",null,"PE"),(0,o.Lk)("th",null,"PP"),(0,o.Lk)("th",null,"GF"),(0,o.Lk)("th",null,"GC"),(0,o.Lk)("th",null,"Dif.Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.standings,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.team_id,class:(0,E.C4)({favorite:a.is_favorite})},[(0,o.Lk)("td",null,(0,E.v_)(a.name),1),(0,o.Lk)("td",null,(0,E.v_)(a.points),1),(0,o.Lk)("td",null,(0,E.v_)(a.played),1),(0,o.Lk)("td",null,(0,E.v_)(a.won),1),(0,o.Lk)("td",null,(0,E.v_)(a.draw),1),(0,o.Lk)("td",null,(0,E.v_)(a.lost),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals_for),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals_against),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals_for-a.goals_against),1)],2)))),128))])])])}var W={name:"Standings",data(){return{standings:[]}},async created(){try{const a=await y.get("/matches/standings");this.standings=a.data}catch(a){console.error("Error al cargar la clasificación:",a)}}};const B=(0,i.A)(W,[["render",O],["__scopeId","data-v-dd51309c"]]);var Y=B;const H={class:"results-page"},Z={class:"header"},aa={class:"header-buttons"},ea={class:"match-info"},ta={class:"match-date"},sa={class:"team-container"},oa={class:"team"},la=["src"],ra=["src"],na={class:"team-name"},ia={class:"result"},ca={class:"team"},da=["src"],ma=["src"],ua={class:"team-name"},pa={class:"match-actions"},ha=["onClick"],ka=["onClick"],va=["onClick"];function ga(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",Z,[e[2]||(e[2]=(0,o.Lk)("h2",{class:"header-title"},"Resultados",-1)),(0,o.Lk)("div",aa,[l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...a)=>r.createMatch&&r.createMatch(...a)),class:"create-button"},e[1]||(e[1]=[(0,o.Lk)("span",{class:"material-icons"},"add",-1)]))):(0,o.Q3)("",!0)])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.groupedMatches,((a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"jornada-section"},[(0,o.Lk)("h3",null,"Jornada "+(0,E.v_)(t+1),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.match_id,class:"match-row"},[(0,o.Lk)("div",ea,[(0,o.Lk)("p",ta,(0,E.v_)(r.formatDateTime(a.date)),1),(0,o.Lk)("div",sa,[(0,o.Lk)("div",oa,[a.local_team.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.local_team.logo_path}`,alt:"Escudo Local",class:"team-logo"},null,8,la)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Local",class:"team-logo"},null,8,ra)),(0,o.Lk)("span",na,(0,E.v_)(a.local_team.name),1)]),(0,o.Lk)("div",ia,(0,E.v_)(null!==a.score_team_1&&null!==a.score_team_2?`${a.score_team_1} - ${a.score_team_2}`:"Por jugar"),1),(0,o.Lk)("div",ca,[a.visitor_team.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.visitor_team.logo_path}`,alt:"Escudo Visitante",class:"team-logo"},null,8,da)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Visitante",class:"team-logo"},null,8,ma)),(0,o.Lk)("span",ua,(0,E.v_)(a.visitor_team.name),1)])])]),(0,o.Lk)("div",pa,[null!==a.score_team_1&&null!==a.score_team_2?((0,o.uX)(),(0,o.CE)("span",{key:0,onClick:e=>r.viewDetails(a.match_id),class:"icon-button"},e[3]||(e[3]=[(0,o.Lk)("span",{class:"material-icons"},"visibility",-1)]),8,ha)):(0,o.Q3)("",!0),l.isAdmin?((0,o.uX)(),(0,o.CE)("span",{key:1,onClick:e=>r.editMatch(a.match_id),class:"icon-button"},e[4]||(e[4]=[(0,o.Lk)("span",{class:"material-icons"},"edit",-1)]),8,ka)):(0,o.Q3)("",!0),l.isAdmin?((0,o.uX)(),(0,o.CE)("span",{key:2,onClick:e=>r.confirmDelete(a.match_id),class:"icon-button"},e[5]||(e[5]=[(0,o.Lk)("span",{class:"material-icons"},"delete",-1)]),8,va)):(0,o.Q3)("",!0)])])))),128))])))),128))])}t(8992),t(4520),t(2577),t(1454),t(8872);var La={name:"ResultsPage",data(){return{matches:[],groupedMatches:[],isAdmin:!1,apiUrl:"https://hockey-manager.onrender.com"}},async created(){try{const a=await y.get("/matches"),e=await y.get("/teams"),t=e.data,s=localStorage.getItem("token");if(s){const a=(0,x.s)(s);this.isAdmin="admin"===a.role}this.matches=a.data.map((a=>(a.local_team=t.find((e=>e.team_id===a.team_1_id)),a.visitor_team=t.find((e=>e.team_id===a.team_2_id)),a))),this.groupMatchesByJornada()}catch(a){console.error("Error al cargar los resultados:",a),alert("No se pudo cargar la lista de resultados.")}},methods:{createMatch(){this.$router.push("/matches/create")},groupMatchesByJornada(){const a=this.matches.reduce(((a,e)=>{const t=e.round_number||1;return a[t-1]||(a[t-1]=[]),a[t-1].push(e),a}),[]);this.groupedMatches=a},formatDateTime(a){const e=new Date(a);return e.toLocaleString([],{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},viewDetails(a){this.$router.push(`/matches/details/${a}`)},editMatch(a){this.$router.push(`/matches/edit/${a}`)},confirmDelete(a){confirm("¿Estás seguro de que deseas eliminar este partido? Esta acción no se puede deshacer.")&&this.deleteMatch(a)},async deleteMatch(a){try{await y.delete(`/matches/${a}`),alert("Partido eliminado con éxito"),this.matches=this.matches.filter((e=>e.match_id!==a)),this.groupMatchesByJornada()}catch(e){console.error("Error al eliminar el partido:",e),alert("No se pudo eliminar el partido")}}}};const ba=(0,i.A)(La,[["render",ga],["__scopeId","data-v-5fc26ece"]]);var ya=ba;const _a={class:"roster"},Ca={class:"header"},fa={class:"header-buttons"},Ea={class:"player-cards"},Ta=["onClick"],$a=["src"],wa={class:"player-name"},Xa={class:"dorsal"};function Fa(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",_a,[(0,o.Lk)("div",Ca,[e[2]||(e[2]=(0,o.Lk)("h2",{class:"header-title"},"Plantilla",-1)),(0,o.Lk)("div",fa,[l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...a)=>r.createPlayer&&r.createPlayer(...a)),class:"create-button"},e[1]||(e[1]=[(0,o.Lk)("span",{class:"material-icons"},"add",-1)]))):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Ea,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.players,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-card",onClick:e=>r.viewPlayerDetails(a.player_id)},[(0,o.Lk)("img",{src:r.getPlayerImage(a.photo_path),alt:"Foto del jugador"},null,8,$a),(0,o.Lk)("h3",wa,(0,E.v_)(a.name),1),(0,o.Lk)("p",Xa,"#"+(0,E.v_)(a.number),1)],8,Ta)))),128))])])}var qa={name:"Roster",data(){return{players:[],isAdmin:!1}},async created(){await this.fetchPlayers();const a=localStorage.getItem("token");if(a){const e=(0,x.s)(a);this.isAdmin="admin"===e.role}},methods:{async fetchPlayers(){try{const a=await y.get("/players");this.players=a.data}catch(a){console.error("Error al obtener los jugadores:",a)}},createPlayer(){this.$router.push("/players/create")},getPlayerImage(a){return a?`https://hockey-manager.onrender.com${a}`:"https://hockey-manager.onrender.com/uploads/players/default.png"},viewPlayerDetails(a){this.$router.push(`/players/${a}`)}}};const Ia=(0,i.A)(qa,[["render",Fa],["__scopeId","data-v-48f7af9c"]]);var Ua=Ia;const Pa={class:"teams-list"},Aa={class:"header"},Da={class:"header-buttons"},Qa={class:"teams-container"},xa=["onClick"],Ja=["src"],Sa=["src"];function Va(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",Pa,[(0,o.Lk)("div",Aa,[e[2]||(e[2]=(0,o.Lk)("h2",{class:"header-title"},"Equipos",-1)),(0,o.Lk)("div",Da,[l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...a)=>r.createTeam&&r.createTeam(...a)),class:"create-button"},e[1]||(e[1]=[(0,o.Lk)("span",{class:"material-icons"},"add",-1)]))):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Qa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.teams,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.team_id,class:"team-card",onClick:e=>r.viewTeamDetails(a.team_id)},[a.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.logo_path}`,alt:"Escudo del equipo",class:"team-logo"},null,8,Ja)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo del equipo",class:"team-logo"},null,8,Sa)),(0,o.Lk)("h3",null,(0,E.v_)(a.name),1)],8,xa)))),128))])])}var Ma={data(){return{teams:[],isAdmin:!1,apiUrl:"https://hockey-manager.onrender.com"}},async created(){try{const a=await y.get("/teams");this.teams=a.data;const e=localStorage.getItem("token");if(e){const a=(0,x.s)(e);this.isAdmin="admin"===a.role}}catch(a){console.error("Error al cargar la lista de equipos:",a),alert("No se pudo cargar la lista de equipos.")}},methods:{viewTeamDetails(a){this.$router.push(`/teams/${a}`)},createTeam(){this.$router.push("/teams/create")}}};const Na=(0,i.A)(Ma,[["render",Va],["__scopeId","data-v-78d7d956"]]);var Ga=Na;const ja={class:"statistics-page"},Ka={class:"top-scorers-table"},za=["src"],Ra=["src"];function Oa(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",ja,[e[1]||(e[1]=(0,o.Lk)("h2",null,"Estadísticas",-1)),(0,o.Lk)("table",Ka,[e[0]||(e[0]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th"),(0,o.Lk)("th",null,"Nombre"),(0,o.Lk)("th",null,"Dorsal"),(0,o.Lk)("th",null,"Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.players,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.player_id},[(0,o.Lk)("td",null,[a.photo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.photo_path}`,alt:"Foto del jugador",class:"player-photo"},null,8,za)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/players/default.png`,alt:"Foto del jugador",class:"player-photo"},null,8,Ra))]),(0,o.Lk)("td",null,(0,E.v_)(a.name),1),(0,o.Lk)("td",null,(0,E.v_)(a.number),1),(0,o.Lk)("td",null,(0,E.v_)(a.total_goals),1)])))),128))])])])}var Wa={name:"Statistics",data(){return{players:[],apiUrl:"https://hockey-manager.onrender.com"}},async created(){try{const a=await y.get("/players/top-scorers");this.players=a.data}catch(a){console.error("Error al cargar las estadísticas de goleadores:",a),alert("No se pudo cargar la tabla de goleadores.")}}};const Ba=(0,i.A)(Wa,[["render",Oa],["__scopeId","data-v-633549a2"]]);var Ya=Ba;const Ha={class:"dashboard"},Za={class:"navbar"},ae={class:"player-details"},ee={class:"header"},te={class:"header-buttons"},se={key:0,class:"player-info box-data"},oe=["src"],le={class:"player-data"},re={class:"player-name"},ne={key:1,class:"player-goals"},ie={class:"goals-table"},ce={key:2,class:"player-goals"};function de(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Ha,[(0,o.Lk)("nav",Za,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:"nav-item"},e[7]||(e[7]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:"nav-item"},e[8]||(e[8]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:"active nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:"nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",ae,[(0,o.Lk)("div",ee,[e[14]||(e[14]=(0,o.Lk)("h2",{class:"header-title"},"Detalles del Jugador",-1)),(0,o.Lk)("div",te,[l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[5]||(e[5]=(...a)=>r.editPlayer&&r.editPlayer(...a)),class:"edit-button"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"edit",-1)]))):(0,o.Q3)("",!0),l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:e[6]||(e[6]=(...a)=>r.confirmDelete&&r.confirmDelete(...a)),class:"delete-button"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"delete",-1)]))):(0,o.Q3)("",!0)])]),l.player?((0,o.uX)(),(0,o.CE)("div",se,[(0,o.Lk)("img",{src:r.getPlayerImage(l.player.photo_path),alt:"Foto del jugador",class:"player-photo"},null,8,oe),(0,o.Lk)("div",le,[(0,o.Lk)("p",re,(0,E.v_)(l.player.name),1),(0,o.Lk)("p",null,[e[15]||(e[15]=(0,o.Lk)("strong",null,"Número:",-1)),(0,o.eW)(" "+(0,E.v_)(l.player.number),1)]),(0,o.Lk)("p",null,[e[16]||(e[16]=(0,o.Lk)("strong",null,"Posición:",-1)),(0,o.eW)(" "+(0,E.v_)(l.player.position),1)]),(0,o.Lk)("p",null,[e[17]||(e[17]=(0,o.Lk)("strong",null,"Fecha de Nacimiento:",-1)),(0,o.eW)(" "+(0,E.v_)(l.player.birthdate),1)])])])):(0,o.Q3)("",!0),l.goals.length?((0,o.uX)(),(0,o.CE)("div",ne,[e[19]||(e[19]=(0,o.Lk)("h3",null,"Goles por Jornada",-1)),(0,o.Lk)("table",ie,[e[18]||(e[18]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Jornada"),(0,o.Lk)("th",null,"Fecha"),(0,o.Lk)("th",null,"Partido"),(0,o.Lk)("th",null,"Resultado"),(0,o.Lk)("th",null,"Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.goals,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.jornada},[(0,o.Lk)("td",null,(0,E.v_)(a.round_number),1),(0,o.Lk)("td",null,(0,E.v_)(r.formatDateTime(a.date)),1),(0,o.Lk)("td",null,(0,E.v_)(a.local_team)+" vs "+(0,E.v_)(a.visitor_team),1),(0,o.Lk)("td",null,(0,E.v_)(a.score_team_1)+" - "+(0,E.v_)(a.score_team_2),1),(0,o.Lk)("td",null,(0,E.v_)(a.goals),1)])))),128))])])])):((0,o.uX)(),(0,o.CE)("div",ce,e[20]||(e[20]=[(0,o.Lk)("h3",null,"No hay goles registrados",-1)])))])],64)}var me={name:"PlayerDetails",data(){return{player:null,isAdmin:!1,apiUrl:"https://hockey-manager.onrender.com",goals:[]}},async created(){const a=this.$route.params.player_id,e=localStorage.getItem("token");if(e){const a=(0,x.s)(e);this.isAdmin="admin"===a.role}try{const e=await y.get(`/players/${a}`);this.player=e.data;const t=await y.get(`/players/${a}/goals`);this.goals=t.data}catch(t){console.error("Error al cargar los datos del jugador:",t),alert("No se pudo cargar la información del jugador.")}},methods:{formatDateTime(a){const e=new Date(a);return e.toLocaleString()},navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},getPlayerImage(a){return a?`https://hockey-manager.onrender.com${a}`:"https://hockey-manager.onrender.com/uploads/players/default.png"},confirmDelete(){confirm("¿Estás seguro de que deseas eliminar este jugador? Esta acción no se puede deshacer.")&&this.deleteTeam()},async deleteTeam(){try{await y.delete(`/players/${this.player.player_id}`),alert("Jugador eliminado con éxito"),this.$router.push("/dashboard/roster")}catch(a){console.error("Error al eliminar el jugador:",a),alert("No se pudo eliminar el jugador")}},editPlayer(){this.$router.push(`/players/edit/${this.player.player_id}`)}}};const ue=(0,i.A)(me,[["render",de],["__scopeId","data-v-804631bc"]]);var pe=ue;const he={class:"dashboard"},ke={class:"navbar"},ve={class:"create-player"};function ge(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",he,[(0,o.Lk)("nav",ke,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"active nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[15]||(e[15]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",ve,[e[22]||(e[22]=(0,o.Lk)("h2",null,"Crear Nuevo Jugador",-1)),(0,o.Lk)("form",{onSubmit:e[10]||(e[10]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},[(0,o.Lk)("div",null,[e[16]||(e[16]=(0,o.Lk)("label",{for:"name"},"Nombre",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[5]||(e[5]=a=>r.player.name=a),required:""},null,512),[[s.Jo,r.player.name]])]),(0,o.Lk)("div",null,[e[17]||(e[17]=(0,o.Lk)("label",{for:"number"},"Número",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"number","onUpdate:modelValue":e[6]||(e[6]=a=>r.player.number=a),required:"",min:"1"},null,512),[[s.Jo,r.player.number]])]),(0,o.Lk)("div",null,[e[18]||(e[18]=(0,o.Lk)("label",{for:"position"},"Posición",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"position","onUpdate:modelValue":e[7]||(e[7]=a=>r.player.position=a),required:""},null,512),[[s.Jo,r.player.position]])]),(0,o.Lk)("div",null,[e[19]||(e[19]=(0,o.Lk)("label",{for:"birthdate"},"Fecha de Nacimiento",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"birthdate","onUpdate:modelValue":e[8]||(e[8]=a=>r.player.birthdate=a),required:""},null,512),[[s.Jo,r.player.birthdate]])]),(0,o.Lk)("div",null,[e[20]||(e[20]=(0,o.Lk)("label",{for:"photo"},"Foto",-1)),(0,o.Lk)("input",{type:"file",id:"photo",onChange:e[9]||(e[9]=(...a)=>n.handleFileUpload&&n.handleFileUpload(...a)),accept:"image/*"},null,32)]),e[21]||(e[21]=(0,o.Lk)("button",{type:"submit"},"Guardar",-1))],32)])],64)}var Le={name:"CreatePlayer",data(){return{player:{name:"",number:"",position:"",birthdate:""},photoFile:null,myTeam_id:""}},async created(){await this.fetchMyTeamId()},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},async fetchMyTeamId(){try{const a=await y.get("/teams/favorite");this.myTeam_id=a.data.team_id}catch(a){console.error("Error al obtener los jugadores:",a)}},handleFileUpload(a){this.photoFile=a.target.files[0]},async submitForm(){const a=new FormData;a.append("name",this.player.name),a.append("number",this.player.number),a.append("position",this.player.position),a.append("birthdate",this.player.birthdate),a.append("team_id",this.myTeam_id),this.photoFile&&a.append("photo",this.photoFile);try{await y.post("/players",a,{headers:{"Content-Type":"multipart/form-data"}});alert("Jugador creado con éxito"),this.$router.push("/dashboard/roster")}catch(e){console.error("Error al crear el jugador:",e),alert("Error al crear el jugador")}}}};const be=(0,i.A)(Le,[["render",ge],["__scopeId","data-v-3c9da3b3"]]);var ye=be;const _e={class:"dashboard"},Ce={class:"navbar"},fe={class:"edit-player"},Ee={key:0,class:"current-logo"},Te=["src"];function $e(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",_e,[(0,o.Lk)("nav",Ce,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"active nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[15]||(e[15]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",fe,[e[23]||(e[23]=(0,o.Lk)("h2",null,"Editar Jugador",-1)),(0,o.Lk)("form",{onSubmit:e[10]||(e[10]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},[(0,o.Lk)("div",null,[e[16]||(e[16]=(0,o.Lk)("label",{for:"name"},"Nombre",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[5]||(e[5]=a=>r.player.name=a),required:""},null,512),[[s.Jo,r.player.name]])]),(0,o.Lk)("div",null,[e[17]||(e[17]=(0,o.Lk)("label",{for:"number"},"Número",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number",id:"number","onUpdate:modelValue":e[6]||(e[6]=a=>r.player.number=a),required:"",min:"1"},null,512),[[s.Jo,r.player.number]])]),(0,o.Lk)("div",null,[e[18]||(e[18]=(0,o.Lk)("label",{for:"position"},"Posición",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"position","onUpdate:modelValue":e[7]||(e[7]=a=>r.player.position=a),required:""},null,512),[[s.Jo,r.player.position]])]),(0,o.Lk)("div",null,[e[19]||(e[19]=(0,o.Lk)("label",{for:"birthdate"},"Fecha de Nacimiento",-1)),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"birthdate","onUpdate:modelValue":e[8]||(e[8]=a=>r.player.birthdate=a),required:""},null,512),[[s.Jo,r.player.birthdate]])]),(0,o.Lk)("div",null,[e[21]||(e[21]=(0,o.Lk)("label",{for:"photo"},"Nueva Foto (opcional)",-1)),(0,o.Lk)("input",{type:"file",id:"photo",onChange:e[9]||(e[9]=(...a)=>n.handleFileUpload&&n.handleFileUpload(...a)),accept:"image/*"},null,32),r.player.photo_path?((0,o.uX)(),(0,o.CE)("div",Ee,[e[20]||(e[20]=(0,o.Lk)("p",null,"Foto actual:",-1)),(0,o.Lk)("img",{src:`${r.apiUrl}${r.player.photo_path}`,alt:"Foto actual"},null,8,Te)])):(0,o.Q3)("",!0)]),e[22]||(e[22]=(0,o.Lk)("button",{type:"submit"},"Guardar",-1))],32)])],64)}var we={name:"EditPlayer",data(){return{player:{name:"",number:"",position:"",birthdate:""},photoFile:null,myTeam_id:"",apiUrl:"https://hockey-manager.onrender.com"}},async created(){await this.fetchMyTeamId();const a=this.$route.params.player_id;try{const e=await y.get(`/players/${a}`);this.player=e.data}catch(e){console.error("Error al cargar los datos del jugador:",e),alert("No se pudo cargar la información del jugador.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},async fetchMyTeamId(){try{const a=await y.get("/teams/favorite");this.myTeam_id=a.data.team_id}catch(a){console.error("Error al obtener los jugadores:",a)}},handleFileUpload(a){this.photoFile=a.target.files[0]},async submitForm(){const a=new FormData;a.append("name",this.player.name),a.append("number",this.player.number),a.append("position",this.player.position),a.append("birthdate",this.player.birthdate),a.append("team_id",this.myTeam_id),this.photoFile&&a.append("photo",this.photoFile);try{await y.put(`/players/${this.$route.params.player_id}`,a,{headers:{"Content-Type":"multipart/form-data"}});alert("Jugador actualizado con éxito"),this.$router.push("/dashboard/roster")}catch(e){console.error("Error al actualizar el jugador:",e),alert("Error al actualizar el jugador.")}}}};const Xe=(0,i.A)(we,[["render",$e],["__scopeId","data-v-dd9ba9c8"]]);var Fe=Xe;const qe={class:"dashboard"},Ie={class:"navbar"},Ue={class:"match-details"},Pe={class:"header"},Ae={class:"tab-container"},De={key:0,class:"tab-content"},Qe={key:0},xe={class:"team-details box-data"},Je={class:"team"},Se=["src"],Ve=["src"],Me={class:"team-name"},Ne={class:"result"},Ge={class:"team"},je=["src"],Ke=["src"],ze={class:"team-name"},Re={class:"match-data box-data"},Oe={key:1,class:"map-link box-data"},We=["href"],Be={key:2,class:"instagram-preview box-data"},Ye=["src"],He={key:1,class:"tab-content goals-section"},Ze={key:0,class:"goals-section"},at={class:"goal-table"},et=["src"],tt=["src"],st={key:2,class:"tab-content"},ot={class:"convocados-list box-data"},lt={class:"players-list box-data"};function rt(a,e,t,s,l,r){const n=(0,o.g2)("MapComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",qe,[(0,o.Lk)("nav",Ie,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:"nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:"active nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:"nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",Ue,[(0,o.Lk)("div",Pe,[e[14]||(e[14]=(0,o.Lk)("h2",null,"Detalles del Partido",-1)),(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ae,[(0,o.Lk)("div",{class:(0,E.C4)(["tab",{active:"datos"===l.activeTab}]),onClick:e[6]||(e[6]=a=>l.activeTab="datos")},"Datos",2),l.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,E.C4)(["tab",{active:"goles"===l.activeTab}]),onClick:e[7]||(e[7]=a=>l.activeTab="goles")},"Goles",2)):(0,o.Q3)("",!0),l.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,E.C4)(["tab",{active:"convocatoria"===l.activeTab}]),onClick:e[8]||(e[8]=a=>l.activeTab="convocatoria")},"Convocatoria",2)):(0,o.Q3)("",!0)]),"datos"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",De,[l.match&&l.localTeam&&l.visitorTeam?((0,o.uX)(),(0,o.CE)("div",Qe,[(0,o.Lk)("div",xe,[(0,o.Lk)("div",Je,[l.localTeam.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${l.localTeam.logo_path}`,alt:"Escudo Local",class:"team-logo"},null,8,Se)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Local",class:"team-logo"},null,8,Ve)),(0,o.Lk)("span",Me,(0,E.v_)(l.localTeam.name),1)]),(0,o.Lk)("span",Ne,(0,E.v_)(l.match.score_team_1)+" - "+(0,E.v_)(l.match.score_team_2),1),(0,o.Lk)("div",Ge,[l.visitorTeam.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${l.visitorTeam.logo_path}`,alt:"Escudo Visitante",class:"team-logo"},null,8,je)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo Visitante",class:"team-logo"},null,8,Ke)),(0,o.Lk)("span",ze,(0,E.v_)(l.visitorTeam.name),1)])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Re,[(0,o.Lk)("p",null,[e[15]||(e[15]=(0,o.Lk)("strong",null,"Fecha:",-1)),(0,o.eW)(" "+(0,E.v_)(r.formatDateTime(l.match.date)),1)]),(0,o.Lk)("p",null,[e[16]||(e[16]=(0,o.Lk)("strong",null,"Resumen:",-1)),(0,o.eW)(" "+(0,E.v_)(l.match.details||"Sin información adicional"),1)])]),r.finalAddress?((0,o.uX)(),(0,o.CE)("div",Oe,[e[17]||(e[17]=(0,o.Lk)("h3",null,"Ubicación",-1)),r.finalAddress?((0,o.uX)(),(0,o.Wv)(n,{key:0,address:r.finalAddress},null,8,["address"])):(0,o.Q3)("",!0),(0,o.Lk)("a",{href:r.getGoogleMapsLink(r.finalAddress),target:"_blank"},"Ver en Google Maps",8,We)])):(0,o.Q3)("",!0),l.match.instagram_post?((0,o.uX)(),(0,o.CE)("div",Be,[e[18]||(e[18]=(0,o.Lk)("h3",null,"Instagram",-1)),(0,o.Lk)("iframe",{src:`https://www.instagram.com/p/${r.extractPostId(l.match.instagram_post)}/embed`,width:"360px",height:"500px",frameborder:"0",scrolling:"no",allowtransparency:"true"},null,8,Ye)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),"goles"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",He,[l.matchGoals.length?((0,o.uX)(),(0,o.CE)("div",Ze,[e[20]||(e[20]=(0,o.Lk)("h3",null,"Goles del Partido",-1)),(0,o.Lk)("table",at,[e[19]||(e[19]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th"),(0,o.Lk)("th",null,"Jugador"),(0,o.Lk)("th",null,"Goles")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.matchGoals,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.event_id},[(0,o.Lk)("td",null,[a.player_photo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${a.player_photo}`,alt:"Foto del jugador",class:"player-photo"},null,8,et)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/players/default.png`,alt:"Foto del jugador",class:"player-photo"},null,8,tt))]),(0,o.Lk)("td",null,(0,E.v_)(a.player_name),1),(0,o.Lk)("td",null,(0,E.v_)(a.event_number),1)])))),128))])])])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),"convocatoria"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",st,[e[21]||(e[21]=(0,o.Lk)("h4",null,"Jugadores Convocados",-1)),(0,o.Lk)("div",ot,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.convocados,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1)])))),128))]),e[22]||(e[22]=(0,o.Lk)("h4",null,"Jugadores no convocados",-1)),(0,o.Lk)("div",lt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.availablePlayers,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1)])))),128))])])):(0,o.Q3)("",!0)])],64)}t(7550);const nt={class:"map-container"};function it(a,e,t,s,l,r){return(0,o.uX)(),(0,o.CE)("div",nt,e[0]||(e[0]=[(0,o.Lk)("div",{id:"map",class:"map"},null,-1)]))}var ct={name:"MapComponent",props:{address:{type:String,required:!0}},data(){return{map:null,geocoder:null}},async mounted(){await this.loadGoogleMapsScript(),this.initMap()},methods:{loadGoogleMapsScript(){return new Promise((a=>{if("undefined"!==typeof google)return void a();const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2-8A4YQjn3bJrv8dCetyeFQ0WQTLYbJQ&libraries=places",e.async=!0,e.defer=!0,e.onload=a,document.head.appendChild(e)}))},initMap(){this.geocoder=new google.maps.Geocoder,this.map=new google.maps.Map(document.getElementById("map"),{zoom:15,center:{lat:0,lng:0}}),this.geocodeAddress(this.address)},geocodeAddress(a){this.geocoder.geocode({address:a},((a,e)=>{"OK"===e?(this.map.setCenter(a[0].geometry.location),new google.maps.Marker({map:this.map,position:a[0].geometry.location})):console.error("Error de geocodificación:",e)}))}}};const dt=(0,i.A)(ct,[["render",it],["__scopeId","data-v-c3b9a516"]]);var mt=dt,ut={components:{MapComponent:mt},name:"MatchDetails",data(){return{match:{date:"",round_number:"",location:"",team_1_id:"",team_2_id:"",score_team_1:null,score_team_2:null,details:""},teams:[],players:[],matchGoals:[],selectedPlayerId:"",goalCount:1,isFavoriteTeamPlaying:!1,favoriteTeam:"",activeTab:"datos",convocados:[],localTeam:"",visitorTeam:"",apiUrl:"https://hockey-manager.onrender.com",errors:{}}},computed:{availablePlayers(){return this.players.filter((a=>!this.isConvocado(a.player_id)))},finalAddress(){return this.match.location||this.localTeam&&this.localTeam.address}},async created(){const a=this.$route.params.match_id;try{const e=await y.get(`/matches/${a}`);this.match=e.data;const t=await y.get("/teams/favorite");if(this.favoriteTeam=t.data,this.isFavoriteTeamPlaying=[this.match.team_1_id,this.match.team_2_id].includes(Number(this.favoriteTeam.team_id)),this.isFavoriteTeamPlaying){const e=await y.get("/players");this.players=e.data;const t=await y.get(`/matches/${a}/events/goals`);this.matchGoals=t.data}const s=await y.get("/teams");this.teams=s.data;const o=await y.get(`/matches/${a}/convocatoria`);this.convocados=o.data,this.localTeam=this.teams.find((a=>a.team_id===this.match.team_1_id)),this.visitorTeam=this.teams.find((a=>a.team_id===this.match.team_2_id))}catch(e){console.error("Error al cargar los detalles del partido:",e),alert("No se pudo cargar la información del partido.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},formatDateTime(a){const e=new Date(a);return e.toLocaleString()},isConvocado(a){return this.convocados.some((e=>e.player_id===a))},getGoogleMapsLink(a){const e=encodeURIComponent(a);return`https://www.google.com/maps/search/?api=1&query=${e}`},getGoogleMapsThumbnail(a){const e=encodeURIComponent(a),t="AIzaSyD2-8A4YQjn3bJrv8dCetyeFQ0WQTLYbJQ";return`https://maps.googleapis.com/maps/api/staticmap?center=${e}&zoom=15&size=300x200&maptype=roadmap&markers=color:red%7C${e}&key=${t}`},extractPostId(a){const e=/(?:https?:\/\/)?(?:www\.)?instagram\.com\/p\/([A-Za-z0-9-_]+)/,t=a.match(e);return t?t[1]:null}}};const pt=(0,i.A)(ut,[["render",rt],["__scopeId","data-v-17ba1ad9"]]);var ht=pt;const kt={class:"dashboard"},vt={class:"navbar"},gt={class:"edit-match"},Lt={class:"tab-container"},bt={key:0,class:"tab-content"},yt={class:"errors"},_t={key:0,class:"error-message"},Ct={key:1,class:"error-message"},ft={key:2,class:"error-message"},Et={key:3,class:"error-message"},Tt={key:4,class:"error-message"},$t=["value"],wt=["value"],Xt={key:1,class:"tab-content goals-section"},Ft=["value"],qt={class:"goal-table"},It=["onClick"],Ut={key:2,class:"tab-content"},Pt={class:"players-list box-data"},At=["onClick"],Dt=["onClick"],Qt={class:"convocados-list box-data"},xt=["onClick"];function Jt(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",kt,[(0,o.Lk)("nav",vt,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[21]||(e[21]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"active nav-item"},e[22]||(e[22]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[23]||(e[23]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[24]||(e[24]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[25]||(e[25]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",gt,[e[49]||(e[49]=(0,o.Lk)("h2",null,"Editar Partido",-1)),(0,o.Lk)("div",Lt,[(0,o.Lk)("div",{class:(0,E.C4)(["tab",{active:"datos"===r.activeTab}]),onClick:e[5]||(e[5]=a=>r.activeTab="datos")},"Datos",2),r.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,E.C4)(["tab",{active:"goles"===r.activeTab}]),onClick:e[6]||(e[6]=a=>r.activeTab="goles")},"Goles",2)):(0,o.Q3)("",!0),r.isFavoriteTeamPlaying?((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,E.C4)(["tab",{active:"convocatoria"===r.activeTab}]),onClick:e[7]||(e[7]=a=>r.activeTab="convocatoria")},"Convocatoria",2)):(0,o.Q3)("",!0)]),(0,o.Lk)("form",{onSubmit:e[20]||(e[20]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},["datos"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",bt,[(0,o.Lk)("div",yt,[r.errors.date?((0,o.uX)(),(0,o.CE)("span",_t,(0,E.v_)(r.errors.date),1)):(0,o.Q3)("",!0),r.errors.round_number?((0,o.uX)(),(0,o.CE)("span",Ct,(0,E.v_)(r.errors.round_number),1)):(0,o.Q3)("",!0),r.errors.team_1_id?((0,o.uX)(),(0,o.CE)("span",ft,(0,E.v_)(r.errors.team_1_id),1)):(0,o.Q3)("",!0),r.errors.team_2_id?((0,o.uX)(),(0,o.CE)("span",Et,(0,E.v_)(r.errors.team_2_id),1)):(0,o.Q3)("",!0),r.errors.same_team?((0,o.uX)(),(0,o.CE)("span",Tt,(0,E.v_)(r.errors.same_team),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[e[26]||(e[26]=(0,o.Lk)("label",{for:"date"},"Fecha y Hora",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":e[8]||(e[8]=a=>r.match.date=a),required:""},null,512),[[s.Jo,r.match.date]])]),(0,o.Lk)("div",null,[e[27]||(e[27]=(0,o.Lk)("label",{for:"round_number"},"Jornada",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[9]||(e[9]=a=>r.match.round_number=a),min:"1",required:""},null,512),[[s.Jo,r.match.round_number]])]),(0,o.Lk)("div",null,[e[28]||(e[28]=(0,o.Lk)("label",{for:"location"},"Ubicación (Llenar solo si la dirección no es la habitual del equipo)",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>r.match.location=a),placeholder:"Dirección del partido"},null,512),[[s.Jo,r.match.location]])]),(0,o.Lk)("div",null,[e[30]||(e[30]=(0,o.Lk)("label",{for:"team_1_id"},"Equipo Local",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[11]||(e[11]=a=>r.match.team_1_id=a),required:""},[e[29]||(e[29]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,$t)))),128))],512),[[s.u1,r.match.team_1_id]])]),(0,o.Lk)("div",null,[e[32]||(e[32]=(0,o.Lk)("label",{for:"team_2_id"},"Equipo Visitante",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[12]||(e[12]=a=>r.match.team_2_id=a),required:""},[e[31]||(e[31]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,wt)))),128))],512),[[s.u1,r.match.team_2_id]])]),(0,o.Lk)("div",null,[e[33]||(e[33]=(0,o.Lk)("label",{for:"score_team_1"},"Goles Equipo Local",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=a=>r.match.score_team_1=a),min:"0"},null,512),[[s.Jo,r.match.score_team_1]])]),(0,o.Lk)("div",null,[e[34]||(e[34]=(0,o.Lk)("label",{for:"score_team_2"},"Goles Equipo Visitante",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=a=>r.match.score_team_2=a),min:"0"},null,512),[[s.Jo,r.match.score_team_2]])]),(0,o.Lk)("div",null,[e[35]||(e[35]=(0,o.Lk)("label",{for:"details"},"Detalles Adicionales",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":e[15]||(e[15]=a=>r.match.details=a),placeholder:"Detalles del partido"},null,512),[[s.Jo,r.match.details]])]),(0,o.Lk)("div",null,[e[36]||(e[36]=(0,o.Lk)("label",{for:"instagram_post"},"URL de Instagram",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=a=>r.match.instagram_post=a),placeholder:"Post de Instagram"},null,512),[[s.Jo,r.match.instagram_post]])])])):(0,o.Q3)("",!0),"goles"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",Xt,[e[42]||(e[42]=(0,o.Lk)("h3",null,"Registrar Goles",-1)),(0,o.Lk)("div",null,[e[38]||(e[38]=(0,o.Lk)("label",{for:"player"},"Jugador",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[17]||(e[17]=a=>r.selectedPlayerId=a)},[e[37]||(e[37]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un jugador",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.players,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.player_id,value:a.player_id},(0,E.v_)(a.name),9,Ft)))),128))],512),[[s.u1,r.selectedPlayerId]])]),(0,o.Lk)("div",null,[e[39]||(e[39]=(0,o.Lk)("label",{for:"goals"},"Número de Goles",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[18]||(e[18]=a=>r.goalCount=a),min:"1",placeholder:"Cantidad de goles"},null,512),[[s.Jo,r.goalCount]])]),(0,o.Lk)("button",{onClick:e[19]||(e[19]=(0,s.D$)(((...a)=>n.addGoal&&n.addGoal(...a)),["prevent"]))},"Añadir Goles"),(0,o.Lk)("table",qt,[e[41]||(e[41]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Jugador"),(0,o.Lk)("th",null,"Goles"),(0,o.Lk)("th")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.matchGoals,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.event_id},[(0,o.Lk)("td",null,(0,E.v_)(a.player_name),1),(0,o.Lk)("td",null,(0,E.v_)(a.event_number),1),(0,o.Lk)("td",null,[(0,o.Lk)("span",{onClick:(0,s.D$)((e=>n.deleteGoal(a.event_id)),["prevent"]),class:"icon-button"},e[40]||(e[40]=[(0,o.Lk)("span",{class:"material-icons"},"delete",-1)]),8,It)])])))),128))])])])):(0,o.Q3)("",!0),"convocatoria"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",Ut,[e[46]||(e[46]=(0,o.Lk)("h4",null,"Mis jugadores",-1)),(0,o.Lk)("div",Pt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.availablePlayers,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1),n.isConvocado(a.player_id)?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,s.D$)((e=>n.removeFromConvocatoria(a)),["prevent"]),class:"icon-button remove"},e[44]||(e[44]=[(0,o.Lk)("span",{class:"material-icons"},"remove",-1)]),8,Dt)):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:(0,s.D$)((e=>n.addToConvocatoria(a)),["prevent"]),class:"icon-button add"},e[43]||(e[43]=[(0,o.Lk)("span",{class:"material-icons"},"add",-1)]),8,At))])))),128))]),e[47]||(e[47]=(0,o.Lk)("h4",null,"Jugadores Convocados",-1)),(0,o.Lk)("div",Qt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.convocados,(a=>((0,o.uX)(),(0,o.CE)("div",{key:a.player_id,class:"player-item"},[(0,o.Lk)("span",null,(0,E.v_)(a.name)+" (#"+(0,E.v_)(a.number)+")",1),(0,o.Lk)("button",{onClick:(0,s.D$)((e=>n.removeFromConvocatoria(a)),["prevent"]),class:"icon-button remove"},e[45]||(e[45]=[(0,o.Lk)("span",{class:"material-icons"},"remove",-1)]),8,xt)])))),128))])])):(0,o.Q3)("",!0),e[48]||(e[48]=(0,o.Lk)("button",{type:"submit"},"Guardar Cambios",-1))],32)])],64)}var St={name:"EditMatch",data(){return{match:{date:"",round_number:"",location:"",team_1_id:"",team_2_id:"",score_team_1:null,score_team_2:null,details:"",instagram_post:""},teams:[],players:[],matchGoals:[],selectedPlayerId:"",goalCount:1,isFavoriteTeamPlaying:!1,favoriteTeam:"",activeTab:"datos",convocados:[],errors:{}}},async created(){const a=this.$route.params.match_id;try{const e=await y.get(`/matches/${a}`);this.match=e.data;const t=await y.get("/teams/favorite");if(this.favoriteTeam=t.data,this.isFavoriteTeamPlaying=[this.match.team_1_id,this.match.team_2_id].includes(Number(this.favoriteTeam.team_id)),this.isFavoriteTeamPlaying){const e=await y.get("/players");this.players=e.data;const t=await y.get(`/matches/${a}/events/goals`);this.matchGoals=t.data}const s=await y.get("/teams");this.teams=s.data;const o=await y.get(`/matches/${a}/convocatoria`);this.convocados=o.data}catch(e){console.error("Error al cargar los datos del partido:",e),alert("No se pudo cargar la información del partido.")}},computed:{availablePlayers(){return this.players.filter((a=>!this.isConvocado(a.player_id)))}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},validateForm(){return this.errors={},this.match.team_1_id||(this.errors.team_1_id="El equipo local es obligatorio."),this.match.team_2_id||(this.errors.team_2_id="El equipo visitante es obligatorio."),this.match.team_1_id&&this.match.team_2_id&&this.match.team_1_id===this.match.team_2_id&&(this.errors.same_team="El equipo local y el visitante no pueden ser el mismo."),this.match.round_number||(this.errors.round_number="La jornada es obligatoria."),this.match.date||(this.errors.date="La fecha y hora son obligatorias."),0===Object.keys(this.errors).length},async addGoal(){if(!this.selectedPlayerId||!this.goalCount)return alert("Selecciona un jugador e ingresa la cantidad de goles.");const a=this.$route.params.match_id;try{const e=await y.post(`/matches/${a}/events/goal`,{player_id:this.selectedPlayerId,event_number:this.goalCount});this.matchGoals.push({event_id:e.data.event_id,player_name:this.players.find((a=>a.player_id===this.selectedPlayerId)).name,event_number:this.goalCount}),this.selectedPlayerId="",this.goalCount=1}catch(e){console.error("Error al registrar el gol:",e),alert("No se pudo registrar el gol.")}},async deleteGoal(a){const e=this.$route.params.match_id;try{await y.delete(`/matches/${e}/events/goal/${a}`),this.matchGoals=this.matchGoals.filter((e=>e.event_id!==a)),alert("Gol eliminado con éxito.")}catch(t){console.error("Error al eliminar el gol:",t),alert("No se pudo eliminar el gol.")}},async addToConvocatoria(a){const e=this.$route.params.match_id;try{await y.post(`/matches/${e}/convocatoria/${a.player_id}`),this.convocados.push(a)}catch(t){console.error("Error al añadir a la convocatoria:",t)}},async removeFromConvocatoria(a){const e=this.$route.params.match_id;try{await y.delete(`/matches/${e}/convocatoria/${a.player_id}`),this.convocados=this.convocados.filter((e=>e.player_id!==a.player_id))}catch(t){console.error("Error al eliminar de la convocatoria:",t)}},isConvocado(a){return this.convocados.some((e=>e.player_id===a))},async submitForm(){if(this.validateForm())try{await y.put(`/matches/update/${this.$route.params.match_id}`,this.match),alert("Partido actualizado con éxito"),this.$router.push("/dashboard/results")}catch(a){const e=a.response?.data||"Error al actualizar el partido";alert(e),console.error("Error al actualizar el partido:",a)}}}};const Vt=(0,i.A)(St,[["render",Jt],["__scopeId","data-v-115fef7a"]]);var Mt=Vt;const Nt={class:"dashboard"},Gt={class:"navbar"},jt={class:"create-match"},Kt={class:"header"},zt={class:"errors"},Rt={key:0,class:"error-message"},Ot={key:1,class:"error-message"},Wt={key:2,class:"error-message"},Bt={key:3,class:"error-message"},Yt={key:4,class:"error-message"},Ht=["value"],Zt=["value"];function as(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Nt,[(0,o.Lk)("nav",Gt,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"active nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[15]||(e[15]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"nav-item"},e[16]||(e[16]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[17]||(e[17]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",jt,[(0,o.Lk)("div",Kt,[e[18]||(e[18]=(0,o.Lk)("h2",null,"Crear Partido",-1)),(0,o.Q3)("",!0)]),(0,o.Lk)("form",{onSubmit:e[12]||(e[12]=(0,s.D$)(((...a)=>n.submitForm&&n.submitForm(...a)),["prevent"]))},[(0,o.Lk)("div",zt,[r.errors.date?((0,o.uX)(),(0,o.CE)("span",Rt,(0,E.v_)(r.errors.date),1)):(0,o.Q3)("",!0),r.errors.round_number?((0,o.uX)(),(0,o.CE)("span",Ot,(0,E.v_)(r.errors.round_number),1)):(0,o.Q3)("",!0),r.errors.team_1_id?((0,o.uX)(),(0,o.CE)("span",Wt,(0,E.v_)(r.errors.team_1_id),1)):(0,o.Q3)("",!0),r.errors.team_2_id?((0,o.uX)(),(0,o.CE)("span",Bt,(0,E.v_)(r.errors.team_2_id),1)):(0,o.Q3)("",!0),r.errors.same_team?((0,o.uX)(),(0,o.CE)("span",Yt,(0,E.v_)(r.errors.same_team),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[e[19]||(e[19]=(0,o.Lk)("label",{for:"date"},"Fecha y Hora",-1)),(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":e[6]||(e[6]=a=>r.match.date=a),required:""},null,512),[[s.Jo,r.match.date]])]),(0,o.Lk)("div",null,[e[20]||(e[20]=(0,o.Lk)("label",{for:"round_number"},"Jornada",-1)),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=a=>r.match.round_number=a),min:"1",required:""},null,512),[[s.Jo,r.match.round_number]])]),(0,o.Lk)("div",null,[e[21]||(e[21]=(0,o.Lk)("label",{for:"location"},"Ubicación (Llenar solo si la dirección no es la habitual del equipo)",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>r.match.location=a),placeholder:"Dirección del partido"},null,512),[[s.Jo,r.match.location]])]),(0,o.Lk)("div",null,[e[23]||(e[23]=(0,o.Lk)("label",{for:"team_1_id"},"Equipo Local",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=a=>r.match.team_1_id=a),required:""},[e[22]||(e[22]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,Ht)))),128))],512),[[s.u1,r.match.team_1_id]])]),(0,o.Lk)("div",null,[e[25]||(e[25]=(0,o.Lk)("label",{for:"team_2_id"},"Equipo Visitante",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[10]||(e[10]=a=>r.match.team_2_id=a),required:""},[e[24]||(e[24]=(0,o.Lk)("option",{disabled:"",value:""},"Selecciona un equipo",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.teams,(a=>((0,o.uX)(),(0,o.CE)("option",{key:a.team_id,value:a.team_id},(0,E.v_)(a.name),9,Zt)))),128))],512),[[s.u1,r.match.team_2_id]])]),(0,o.Lk)("div",null,[e[26]||(e[26]=(0,o.Lk)("label",{for:"details"},"Detalles Adicionales",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":e[11]||(e[11]=a=>r.match.details=a),placeholder:"Detalles del partido"},null,512),[[s.Jo,r.match.details]])]),e[27]||(e[27]=(0,o.Lk)("button",{type:"submit"},"Crear Partido",-1))],32)])],64)}var es={name:"CreateMatch",data(){return{match:{date:"",round_number:"",location:"",team_1_id:"",team_2_id:"",details:""},teams:[],errors:{}}},async created(){try{const a=await y.get("/teams");this.teams=a.data}catch(a){console.error("Error al cargar los equipos:",a),alert("No se pudo cargar la lista de equipos.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},validateForm(){return this.errors={},this.match.team_1_id||(this.errors.team_1_id="El equipo local es obligatorio."),this.match.team_2_id||(this.errors.team_2_id="El equipo visitante es obligatorio."),this.match.team_1_id===this.match.team_2_id&&(this.errors.same_team="El equipo local y el visitante no pueden ser el mismo."),this.match.round_number||(this.errors.round_number="La jornada es obligatoria."),this.match.date||(this.errors.date="La fecha y hora son obligatorias."),0===Object.keys(this.errors).length},async submitForm(){if(this.validateForm())try{const a=await y.post("/matches/create",this.match),e=a.data.match_id;alert("Partido creado con éxito"),this.$router.push("/matches/edit/"+e)}catch(a){console.error("Error al crear el partido:",a),alert("No se pudo crear el partido")}}}};const ts=(0,i.A)(es,[["render",as],["__scopeId","data-v-eac15732"]]);var ss=ts;const os={class:"dashboard"},ls={class:"navbar"},rs={class:"team-details"},ns={class:"header"},is={class:"header-title"},cs={class:"header-buttons"},ds={class:"box-data"},ms=["src"],us=["src"],ps={key:2,class:"map-link"},hs=["href"];function ks(a,e,t,s,l,r){const n=(0,o.g2)("MapComponent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",os,[(0,o.Lk)("nav",ls,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>r.navigateTo("standings")),class:"nav-item"},e[7]||(e[7]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>r.navigateTo("results")),class:"nav-item"},e[8]||(e[8]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>r.navigateTo("roster")),class:"nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>r.navigateTo("teams")),class:"active nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>r.navigateTo("stats")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",rs,[(0,o.Lk)("div",ns,[(0,o.Lk)("h2",is,(0,E.v_)(l.team.name),1),(0,o.Lk)("div",cs,[l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[5]||(e[5]=(...a)=>r.editTeam&&r.editTeam(...a)),class:"edit-button"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"edit",-1)]))):(0,o.Q3)("",!0),l.isAdmin?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:e[6]||(e[6]=(...a)=>r.confirmDelete&&r.confirmDelete(...a)),class:"delete-button"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"delete",-1)]))):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ds,[l.team.logo_path?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${l.apiUrl}${l.team.logo_path}`,alt:"Escudo del equipo",class:"team-logo-large"},null,8,ms)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:`${l.apiUrl}/uploads/badges/default.png`,alt:"Escudo del equipo",class:"team-logo-large"},null,8,us)),(0,o.Lk)("p",null,[e[14]||(e[14]=(0,o.Lk)("strong",null,"Dirección:",-1)),(0,o.eW)(" "+(0,E.v_)(l.team.address),1)]),(0,o.Lk)("p",null,[e[15]||(e[15]=(0,o.Lk)("strong",null,"Teléfono:",-1)),(0,o.eW)(" "+(0,E.v_)(l.team.phone),1)]),r.finalAddress?((0,o.uX)(),(0,o.CE)("div",ps,[e[16]||(e[16]=(0,o.Lk)("h3",null,"Ubicación",-1)),r.finalAddress?((0,o.uX)(),(0,o.Wv)(n,{key:0,address:r.finalAddress},null,8,["address"])):(0,o.Q3)("",!0),(0,o.Lk)("a",{href:r.getGoogleMapsLink(r.finalAddress),target:"_blank"},"Ver en Google Maps",8,hs)])):(0,o.Q3)("",!0)])])],64)}var vs={components:{MapComponent:mt},data(){return{team:{},isAdmin:!1,apiUrl:"https://hockey-manager.onrender.com"}},async created(){const a=this.$route.params.team_id,e=localStorage.getItem("token");if(e){const a=(0,x.s)(e);this.isAdmin="admin"===a.role}try{const e=await y.get(`/teams/${a}`);this.team=e.data}catch(t){console.error("Error al cargar los detalles del equipo:",t),alert("No se pudieron cargar los detalles del equipo.")}},computed:{finalAddress(){return this.team&&this.team.address}},methods:{editTeam(){this.$router.push(`/teams/edit/${this.team.team_id}`)},confirmDelete(){confirm("¿Estás seguro de que deseas eliminar este equipo? Esta acción no se puede deshacer.")&&this.deleteTeam()},async deleteTeam(){try{await y.delete(`/teams/${this.team.team_id}`),alert("Equipo eliminado con éxito"),this.$router.push("/dashboard/teams")}catch(a){console.error("Error al eliminar el equipo:",a),alert("No se pudo eliminar el equipo")}},navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},getGoogleMapsLink(a){const e=encodeURIComponent(a);return`https://www.google.com/maps/search/?api=1&query=${e}`},getGoogleMapsThumbnail(a){const e=encodeURIComponent(a),t="AIzaSyD2-8A4YQjn3bJrv8dCetyeFQ0WQTLYbJQ";return`https://maps.googleapis.com/maps/api/staticmap?center=${e}&zoom=15&size=300x200&maptype=roadmap&markers=color:red%7C${e}&key=${t}`}}};const gs=(0,i.A)(vs,[["render",ks],["__scopeId","data-v-3427ddd8"]]);var Ls=gs;const bs={class:"dashboard"},ys={class:"navbar"},_s={class:"create-team"},Cs={class:"form-group"},fs={class:"form-group"},Es={class:"form-group"};function Ts(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",bs,[(0,o.Lk)("nav",ys,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[9]||(e[9]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[10]||(e[10]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"active nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",_s,[e[18]||(e[18]=(0,o.Lk)("h2",null,"Crear Nuevo Equipo",-1)),(0,o.Lk)("form",{onSubmit:e[8]||(e[8]=(0,s.D$)(((...a)=>n.createTeam&&n.createTeam(...a)),["prevent"]))},[(0,o.Lk)("div",Cs,[e[14]||(e[14]=(0,o.Lk)("label",{for:"name"},"Nombre del Equipo",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>r.team.name=a),id:"name",required:""},null,512),[[s.Jo,r.team.name]])]),(0,o.Lk)("div",fs,[e[15]||(e[15]=(0,o.Lk)("label",{for:"address"},"Dirección",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>r.team.address=a),id:"address"},null,512),[[s.Jo,r.team.address]])]),(0,o.Lk)("div",Es,[e[16]||(e[16]=(0,o.Lk)("label",{for:"phone"},"Teléfono",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=a=>r.team.phone=a),id:"phone"},null,512),[[s.Jo,r.team.phone]])]),e[17]||(e[17]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Crear Equipo",-1))],32)])],64)}var $s={data(){return{team:{name:"",address:"",phone:""},logoFile:null}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},async createTeam(){const a=new FormData;a.append("name",this.team.name),a.append("address",this.team.address),a.append("phone",this.team.phone);try{const e=await y.post("/teams",a,{headers:{"Content-Type":"multipart/form-data"}}),t=e.data.team_id;alert("Equipo creado exitosamente"),this.$router.push("/teams/edit/"+t)}catch(e){console.error("Error al crear el equipo:",e),alert("No se pudo crear el equipo")}}}};const ws=(0,i.A)($s,[["render",Ts],["__scopeId","data-v-41227f70"]]);var Xs=ws;const Fs={class:"dashboard"},qs={class:"navbar"},Is={class:"edit-team"},Us={class:"form-group"},Ps={class:"form-group"},As={key:0,class:"current-logo"},Ds=["src"],Qs={class:"form-group"},xs={class:"form-group"},Js={class:"form-group"};function Ss(a,e,t,l,r,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Fs,[(0,o.Lk)("nav",qs,[(0,o.Lk)("span",{onClick:e[0]||(e[0]=a=>n.navigateTo("standings")),class:"nav-item"},e[11]||(e[11]=[(0,o.Lk)("span",{class:"material-icons"},"leaderboard",-1),(0,o.Lk)("p",null,"Clasificación",-1)])),(0,o.Lk)("span",{onClick:e[1]||(e[1]=a=>n.navigateTo("results")),class:"nav-item"},e[12]||(e[12]=[(0,o.Lk)("span",{class:"material-icons"},"event",-1),(0,o.Lk)("p",null,"Resultados",-1)])),(0,o.Lk)("span",{onClick:e[2]||(e[2]=a=>n.navigateTo("roster")),class:"nav-item"},e[13]||(e[13]=[(0,o.Lk)("span",{class:"material-icons"},"people",-1),(0,o.Lk)("p",null,"Plantilla",-1)])),(0,o.Lk)("span",{onClick:e[3]||(e[3]=a=>n.navigateTo("teams")),class:"active nav-item"},e[14]||(e[14]=[(0,o.Lk)("span",{class:"material-icons"},"sports",-1),(0,o.Lk)("p",null,"Equipos",-1)])),(0,o.Lk)("span",{onClick:e[4]||(e[4]=a=>n.navigateTo("stats")),class:"nav-item"},e[15]||(e[15]=[(0,o.Lk)("span",{class:"material-icons"},"insights",-1),(0,o.Lk)("p",null,"Estadísticas",-1)]))])]),(0,o.Lk)("div",Is,[e[23]||(e[23]=(0,o.Lk)("h2",null,"Editar Equipo",-1)),(0,o.Lk)("form",{onSubmit:e[10]||(e[10]=(0,s.D$)(((...a)=>n.updateTeam&&n.updateTeam(...a)),["prevent"]))},[(0,o.Lk)("div",Us,[e[16]||(e[16]=(0,o.Lk)("label",{for:"name"},"Nombre del Equipo",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>r.team.name=a),id:"name",required:""},null,512),[[s.Jo,r.team.name]])]),(0,o.Lk)("div",Ps,[e[18]||(e[18]=(0,o.Lk)("label",{for:"logo"},"Logo del Equipo",-1)),(0,o.Lk)("input",{type:"file",onChange:e[6]||(e[6]=(...a)=>n.onFileChange&&n.onFileChange(...a)),id:"logo"},null,32),r.team.logo_path?((0,o.uX)(),(0,o.CE)("div",As,[e[17]||(e[17]=(0,o.Lk)("p",null,"Logo Actual:",-1)),(0,o.Lk)("img",{src:`${r.apiUrl}${r.team.logo_path}`,alt:"Logo del equipo"},null,8,Ds)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Qs,[e[19]||(e[19]=(0,o.Lk)("label",{for:"address"},"Dirección",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=a=>r.team.address=a),id:"address"},null,512),[[s.Jo,r.team.address]])]),(0,o.Lk)("div",xs,[e[20]||(e[20]=(0,o.Lk)("label",{for:"phone"},"Teléfono",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>r.team.phone=a),id:"phone"},null,512),[[s.Jo,r.team.phone]])]),(0,o.Lk)("div",Js,[e[21]||(e[21]=(0,o.Lk)("label",null,"Marcar como equipo favorito",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>r.team.is_favorite=a),type:"checkbox",value:1,"false-value":0,id:"fav-checkbox"},null,512),[[s.lH,r.team.is_favorite]])]),e[22]||(e[22]=(0,o.Lk)("button",{type:"submit",class:"submit-button"},"Actualizar Equipo",-1))],32)])],64)}var Vs={data(){return{team:{name:"",address:"",phone:"",logoPath:""},logoFile:null,apiUrl:"https://hockey-manager.onrender.com"}},async created(){const a=this.$route.params.team_id;try{const e=await y.get(`/teams/${a}`);this.team=e.data,this.team.is_favorite=!!this.team.is_favorite}catch(e){console.error("Error al cargar los datos del equipo:",e),alert("No se pudieron cargar los datos del equipo.")}},methods:{navigateTo(a){this.activeTab=a,this.$router.push(`/dashboard/${a}`)},onFileChange(a){this.logoFile=a.target.files[0]},async updateTeam(){const a=new FormData;a.append("name",this.team.name),a.append("address",this.team.address),a.append("phone",this.team.phone),this.logoFile&&a.append("logo_path",this.logoFile),this.team.is_favorite?a.append("is_favorite",1):a.append("is_favorite",0);try{await y.put(`/teams/${this.team.team_id}`,a,{headers:{"Content-Type":"multipart/form-data"}}),alert("Equipo actualizado exitosamente"),this.$router.push("/dashboard/teams")}catch(e){console.error("Error al actualizar el equipo:",e);const a=e.response?.data||"No se pudo actualizar el equipo.";alert(a)}}}};const Ms=(0,i.A)(Vs,[["render",Ss],["__scopeId","data-v-40f42f76"]]);var Ns=Ms;const Gs=[{path:"/",name:"Login",component:f},{path:"/team-selection",name:"TeamSelection",component:V,meta:{requiresAuth:!0}},{path:"/players/create",name:"CreatePlayer",component:ye},{path:"/players/:player_id",name:"PlayerDetails",component:pe},{path:"/players/edit/:player_id",name:"EditPlayer",component:Fe},{path:"/matches/details/:match_id",name:"MatchDetails",component:ht},{path:"/matches/edit/:match_id",name:"EditMatch",component:Mt},{path:"/matches/create",name:"CreateMatch",component:ss},{path:"/teams/:team_id",name:"TeamDetails",component:Ls},{path:"/teams/create",name:"CreateTeam",component:Xs},{path:"/teams/edit/:team_id",name:"EditTeam",component:Ns},{path:"/dashboard",name:"Dashboard",component:z,meta:{requiresAuth:!0},children:[{path:"standings",name:"Standings",component:Y},{path:"results",name:"Results",component:ya},{path:"roster",name:"Roster",component:Ua},{path:"teams",name:"Teams",component:Ga},{path:"stats",name:"Statistics",component:Ya}]}],js=(0,m.aE)({history:(0,m.LA)("/hockey-manager/"),routes:Gs});js.beforeEach(((a,e,t)=>{const s=!!localStorage.getItem("token");a.meta.requiresAuth&&!s?t({name:"Login"}):t()}));var Ks=js;t(3855);console.log("API URL:","https://hockey-manager.onrender.com"),(0,s.Ef)(d).use(Ks).mount("#app")}},e={};function t(s){var o=e[s];if(void 0!==o)return o.exports;var l=e[s]={exports:{}};return a[s].call(l.exports,l,l.exports,t),l.exports}t.m=a,function(){var a=[];t.O=function(e,s,o,l){if(!s){var r=1/0;for(d=0;d<a.length;d++){s=a[d][0],o=a[d][1],l=a[d][2];for(var n=!0,i=0;i<s.length;i++)(!1&l||r>=l)&&Object.keys(t.O).every((function(a){return t.O[a](s[i])}))?s.splice(i--,1):(n=!1,l<r&&(r=l));if(n){a.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=a.length;d>0&&a[d-1][2]>l;d--)a[d]=a[d-1];a[d]=[s,o,l]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var s in e)t.o(e,s)&&!t.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,s){var o,l,r=s[0],n=s[1],i=s[2],c=0;if(r.some((function(e){return 0!==a[e]}))){for(o in n)t.o(n,o)&&(t.m[o]=n[o]);if(i)var d=i(t)}for(e&&e(s);c<r.length;c++)l=r[c],t.o(a,l)&&a[l]&&a[l][0](),a[l]=0;return t.O(d)},s=self["webpackChunkhockey_manager_frontend"]=self["webpackChunkhockey_manager_frontend"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],(function(){return t(3955)}));s=t.O(s)})();
//# sourceMappingURL=app.6c99ce46.js.map